<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/page/2/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<meta name="generator" content="Hexo 7.2.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS Feed"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="Search"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-Paper" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/05/22/Paper/" class="article-date">
  <time class="dt-published" datetime="2024-05-22T14:43:56.000Z" itemprop="datePublished">2024-05-22</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E7%A7%91%E7%A0%94/">科研</a>►<a class="article-category-link" href="/categories/%E7%A7%91%E7%A0%94/ImageMatchingfromHandcraftedtoDeepFeatures-ASurvey/">ImageMatchingfromHandcraftedtoDeepFeatures:ASurvey</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/05/22/Paper/">Paper~</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="ImageMatchingfromHandcraftedtoDeepFeatures-ASurvey"><a href="#ImageMatchingfromHandcraftedtoDeepFeatures-ASurvey" class="headerlink" title="ImageMatchingfromHandcraftedtoDeepFeatures:ASurvey"></a>ImageMatchingfromHandcraftedtoDeepFeatures:ASurvey</h2><h3 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h3><p>不同场景下，有什么不同的图像匹配技术？<br>图像匹配（又称图像配准或配对）旨在从两幅以上的图像中识别出相同或相似的结构&#x2F;内容，然后将其对应起来。该技术可用于高维结构恢复以及信息识别和整合，如三维重建、视觉同步定位和地图绘制（VSLAM）、图像拼图、图像融合、图像检索、目标识别和跟踪以及变化检测等<br>一般来说，图像匹配包括两个部分，即匹配特征的性质和匹配策略，这两个部分分别说明了用什么进行匹配和如何进行匹配。匹配的最终目的是将感测图像以几何方式扭曲成参照图像的共同空间坐标系，并将它们的共同区域像素对像素对齐（即图像注册  image registration）。</p>
<h4 id="area-based-method"><a href="#area-based-method" class="headerlink" title="area-based method"></a>area-based method</h4><ul>
<li>一种直接的策略（也称为基于区域的方法）是通过在预定大小的滑动窗口甚至整个图像中使用像素域变换后的原始图像像素强度或信息的相似性测量值来注册两幅图像，而不试图检测任何突出的图像结构</li>
<li>直接匹配图像的基于区域的方法通常依赖于适当的斑块相似性测量来创建图像之间像素级的匹配。这些方法的计算成本较高，而且对图像失真、噪声引起的外观变化、不同的光照和不同的成像传感器很敏感，这些都会对相似性测量和匹配搜索产生负面影响。因此，这些方法通常只能在较小的旋转、缩放和局部变形情况下有效。但是，这些方法基于特征检测和描述、特征匹配和几何模型估计，这也是一个挑战。一方面，在基于特征的图像匹配中，很难定义和提取现实世界中属于三维空间相同位置的高比例和大量特征，以确保匹配度。另一方面，将 N 个特征点与另一幅图像中检测到的 N 个特征点进行匹配，总共会产生 N! 种可能的匹配结果，而通常要从高分辨率图像中提取成千上万个特征点，且特征点集合中通常会包含主要的异常值和噪声，这给现有的匹配方法带来了明显的困难。 </li>
<li>当应用于宽基线图像立体或复杂和严重变形情况下的配准时，从图像中学习直接配准或变换模型估计的选择是有限的。将卷积神经网络（CNN）应用于稀疏点数据的匹配、配准和变换模型估计也很困难，因为需要匹配的点由于其无序和分散的性质而被称为非结构化或非欧几里得数据，这使得使用深度卷积技术操作和提取两个或多个点之间的空间关系（例如相邻元素、相对位置以及多点之间的长度和角度信息）变得困难</li>
</ul>
<h4 id="feature-based-method"><a href="#feature-based-method" class="headerlink" title="feature based method"></a>feature based method</h4><ul>
<li>基于特征的方法，即特征检测和描述、特征匹配、变换模型估计、图像重采样和变换。基于特征的图像匹配因其灵活性和鲁棒性以及广泛的应用能力而广受欢迎。其中，特征检测可以从图像中提取独特的结构，而特征描述可视为一种图像表示方法，被广泛应用于图像编码和相似性测量，如图像分类和检索。此外，由于深度特征获取和非线性表达能力强，将深度学习技术应用于图像信息表示和&#x2F;或相似性测量，以及图像对变换的参数回归，是当今图像匹配界的热门话题，与传统方法相比，已被证明能获得更好的匹配性能，并呈现出更大的潜力。</li>
<li>检测到的特征代表了图像或现实世界中的特定语义结构，可分为<strong>角特征</strong>（Moravec，1977 年；Harrisetal，1988 年；Smith 和 Brady，1997 年；RostenandDrummond，2006 年；Rubleeetal，2011 年。 等人，2008 年；Yi 等人，2016 年）、<strong>线&#x2F;边</strong>（Harris 等人，1988 年；Smith 和 Brady，1997 年；Canny，1987 年；Perona 和 Malik，1990 年）以及<strong>形态逻辑区域特征</strong>（Matas 等人，2004 年；Mikolajczyk 等人，2005 年）。不过，<strong>最常用的匹配特征是点</strong>（又称关键点或兴趣点）。 与线条和区域特征相比，点易于提取和定义，其形式也比较简单，大致可分为角点和圆点。 一个好的兴趣点必须易于找到，而且最好能快速计算，因为一个好位置上的兴趣点对于进一步的特征描述和匹配至关重要。为了提高(i) 可匹配性，(ii) 后续应用能力，(iii) 匹配效率和减少存储需求，人们提出了许多可靠特征提取所需的属性（Zitova 和 Flusser，2003 年；Tuytelaars 和 Mikolajczyk，2008 年），包括重复性、不变性、鲁棒性和效率。特征检测的共同理念是构建特征响应，以区分突出的点、线和区域，以及平面和非突出的图像区域。这种思路可分为梯度检测、强度检测、二阶导数检测、轮廓曲率检测、区域分割检测和基于学习的检测。下面，我们将全面介绍这些方法中的特征检测器，重点介绍基于学习的方法，以指导研究人员了解传统检测器和可训练检测器是如何工作的，并深入分析它们的优势和不足。</li>
</ul>
<h5 id="corner-feature"><a href="#corner-feature" class="headerlink" title="corner feature"></a>corner feature</h5><ul>
<li>拐角特征可定义为 “L”、”T”、”X “形两条直线的交叉点或轮廓线的高曲率点。拐角检测的共同理念是计算拐角响应，并将其与边缘、平面或其他不同的图像区域区分开来。传统的拐角搜索可以采用不同的策略，即基于梯度、基于强度和基于轮廓曲率的策略。 详情请参考 Zitova 和 Flusser (2003)、Li 等人 (2015)、Tuyte laars 和 Mikolajczyk (2008) 以及 Rosten 等人 (2010)。</li>
</ul>
<h6 id="梯度检测器"><a href="#梯度检测器" class="headerlink" title="梯度检测器"></a>梯度检测器</h6><ul>
<li>该方法首先提出了 “兴趣点 “的概念来定义明显的特征点，这些特征点是根据局部强度的自相关关系提取的。该方法从八个方向的移动窗口中计算并搜索每个像素的最小强度变化，如果最小值优于给定的阈值，则检测到兴趣点。 然而，由于比较的方向和大小不连续，莫拉维克检测器对方向或图像旋转并不不变。著名的 Harris 角检测器（Harris 等人，1988 年）就是为了解决各向异性和计算复杂性问题而引入的。哈里斯方法的目标是利用二阶矩阵或自相关矩阵找到灰度值变化最快和最小的方向，因此它不受方向和光照的影响，具有可靠的重复性和独特性。Shi 和 Tomasi（1993 年）对 Harris 进行了进一步改进，使特征更加 “分散”，定位更加准确，从而提高了跟踪性能。</li>
</ul>
<h6 id="强度检测器"><a href="#强度检测器" class="headerlink" title="强度检测器"></a>强度检测器</h6><ul>
<li>有几种基于模板或强度比较的拐角检测器是通过比较周围像素与中心像素的强度来简化图像梯度计算的。由于其二进制性质，它们被广泛应用于许多现代应用中，特别是一些有存储和实时性要求的应用中。 基于亮度的角检测器，即最小单值段同化核（SUSAN）（Smith 和 Brady，1997 年），是基于局部半径区域像素与核之间的亮度相似性。由于 SUSAN 不需要梯度计算，因此可以快速实现。基于亮度比较的概念，人们提出了许多类似的方法，其中最著名的是 FAST 检测器（Trajkovi´c 和 Hedley，1998 年）。FAST 使用二进制比较法，将沿圆圈图案的每个像素与中心像素进行比较，然后使用机器学习（即 ID3 树，Quinlan 1986 年）策略确定更可靠的角落特征。作为 SUSAN 的改进版，FAST 具有极高的效率和重复性，因此得到了更广泛的应用。为了在不降低效率的情况下改进 FAST，引入了 FAST-ER（Ros ten 等人，2010 年），通过进一步以原子核为中心的像素亮度比较，对探测器进行通用化，从而提高了重复性。另一项改进是 AGAST（Mair 等人，2010 年），该方法定义了另外两个像素亮度比较标准，然后在扩展的配置空间中训练出一棵最优化和专业化的决策树，从而使 FAST 检测器更具通用性和适应性。为了结合 FAST针对哈里斯检测器的可靠性问题，Rublee 等人（2011 年）提出了一种用于匹配的集成特征检测器和描述器，称为 ORB。ORB 使用 Harris 响应来选择一定数量的 FAST 角作为最终检测到的特征。局部斑块的灰度中心点和中心像素本身组成一个向量，代表 ORB 特征的主要方向，这有助于计算 ORB 中二元描述符的相似性。最近，有人提出了一种类似 Sadder 的检测器（Aldana-Iuit 等人，2016 年）来提取兴趣点。在该检测器中，通过在两个具有一定几何约束的同心圆上进行强度比较，可有效验证鞍形条件。与传统方法相比，即使是现代可训练方法，Sadder 检测器也能实现更高的重复性和更大的扩展性（Komorowski 等人，2018 年）</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/05/22/Paper/" data-id="clwlwacy00003qkvc8f3u9bmv" data-title="Paper~" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-再看动态规划" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/05/21/%E5%86%8D%E7%9C%8B%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/" class="article-date">
  <time class="dt-published" datetime="2024-05-21T06:53:02.000Z" itemprop="datePublished">2024-05-21</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E7%AE%97%E6%B3%95/">算法</a>►<a class="article-category-link" href="/categories/%E7%AE%97%E6%B3%95/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/">动态规划</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/05/21/%E5%86%8D%E7%9C%8B%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/">再看动态规划</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/05/21/%E5%86%8D%E7%9C%8B%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/" data-id="clwlwacyd000uqkvcg7pldtoh" data-title="再看动态规划" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-SQL" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/05/21/SQL/" class="article-date">
  <time class="dt-published" datetime="2024-05-20T16:10:10.000Z" itemprop="datePublished">2024-05-21</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a>►<a class="article-category-link" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/SQL/">SQL</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/05/21/SQL/">SQL</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>开这篇博客的缘由是数据库开发要上机了，不得不恶补一下SQL，记录一下语法和常见的题型。更搞笑的是OJ上面的一道题竟然让我百思不得其解，简直怀疑我学了个假SQL（当然最后看估计还是OJ自己错了，同样的代码在lc上是可以跑通的。。）</p>
<h2 id="SQL基础知识"><a href="#SQL基础知识" class="headerlink" title="SQL基础知识"></a>SQL基础知识</h2><h3 id="技巧和注意事项"><a href="#技巧和注意事项" class="headerlink" title="技巧和注意事项"></a>技巧和注意事项</h3><ul>
<li>聚合函数内可以用DISTINCT修饰</li>
<li>注意两张表连接后，如果要用那个连接的字段分组，那么需要指定是那张表。不过如果直接用using就可以避免这个问题</li>
<li>什么时候可以直接内连接，什么时候可以左&#x2F;右连接？有的时候，连不上的也要统计，就得左&#x2F;右</li>
</ul>
<h3 id="表的连接"><a href="#表的连接" class="headerlink" title="表的连接"></a>表的连接</h3><ul>
<li>Join(Inner Join) 内连接，如果表之后至少有一个匹配，则返回行。<strong>交集</strong></li>
<li>Left Join 左连接，返回左表所有的行，右表返回匹配行，不匹配的返回NULL <strong>左表+交集</strong></li>
<li>Right Join 右连接，返回由表所有的行，左表返回匹配行，不匹配的返回NULL <strong>右表+交集</strong></li>
<li>Full Join 全连接，只要其中一个表存在匹配，则返回行 <strong>左表+右表+交集</strong></li>
<li>Cross Join 笛卡尔积</li>
<li>左连接和右连接也可以称为左外连接和右外连接，统称为外连接</li>
<li>这些连接方法常常和ON配合使用，<strong>ON条件是在生成临时表时使用的条件</strong>，如果满足条件，就会加入中间结果表，当然对于左右连接来说，即使没有匹配也会保留边的数据。</li>
<li>需要注意的是，ON条件是不和Cross Join配合使用的，这时候要用Where来筛选。这也很好理解，笛卡尔积也可以看成一个“原子操作”，后续的筛选就是对这个中间结果表的筛选了，如果还想着用ON条件，直接用Join或者其他就好了</li>
</ul>
<h3 id="SQL执行顺序"><a href="#SQL执行顺序" class="headerlink" title="SQL执行顺序"></a>SQL执行顺序</h3><ol>
<li>FROM </li>
<li>JOIN </li>
<li>ON  </li>
<li>WHERE </li>
<li>GROUP BY </li>
<li>WITH {CUBE | ROLLUP} </li>
<li>HAVING </li>
<li>SELECT -&gt; DISTINCT </li>
<li>ORDER BY </li>
<li>LIMIT OFFSET</li>
</ol>
<h3 id="窗口函数"><a href="#窗口函数" class="headerlink" title="窗口函数"></a>窗口函数</h3><h4 id="ROW-NUMBER-函数"><a href="#ROW-NUMBER-函数" class="headerlink" title="ROW_NUMBER() 函数"></a>ROW_NUMBER() 函数</h4><p>ROW_NUMBER() 是一个窗口函数（也称为分析函数），用于为查询结果中的每一行分配一个<strong>唯一的行号</strong>。行号的分配可以根据指定的排序规则进行。</p>
<h4 id="RANK-函数"><a href="#RANK-函数" class="headerlink" title="RANK() 函数"></a>RANK() 函数</h4><p>分配的行号不连续</p>
<h4 id="OVER-子句"><a href="#OVER-子句" class="headerlink" title="OVER 子句"></a>OVER 子句</h4><p>OVER 子句用于定义窗口函数的工作范围。OVER 子句可以包含 PARTITION BY 子句和 ORDER BY 子句，分别用于分区和排序。</p>
<h4 id="PARTITION-BY-子句"><a href="#PARTITION-BY-子句" class="headerlink" title="PARTITION BY 子句"></a>PARTITION BY 子句</h4><p>例如<code>PARTITION BY customer_id</code> 将数据按 customer_id 进行分区。分区的意思是将查询结果集划分成一个个小组，每个小组包含相同 customer_id 的所有行。在每个分区内，行号的计数从1开始，并在每个新分区重置。</p>
<h4 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h4>   <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ROW_NUMBER</span>() <span class="keyword">OVER</span> (<span class="keyword">PARTITION</span> <span class="keyword">BY</span> customer_id <span class="keyword">ORDER</span> <span class="keyword">BY</span> order_date <span class="keyword">DESC</span>) <span class="keyword">AS</span> rank_tag</span><br></pre></td></tr></table></figure>
<p>   <img src="/2024/05/21/SQL/image.png"></p>
<h3 id="计算函数"><a href="#计算函数" class="headerlink" title="计算函数"></a>计算函数</h3><ul>
<li><p><strong>round(x,d) ，x指要处理的数，d是指保留几位小数</strong><br>这里有个值得注意的地方是，d可以是负数，这时是指定小数点左边的d位整数位为0,同时小数位均为0；</p>
 <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 结果为1100</span></span><br><span class="line"><span class="keyword">select</span> round(<span class="number">1123.26723</span>,<span class="number">-2</span>);</span><br><span class="line"><span class="comment">-- 结果为1120</span></span><br><span class="line"><span class="keyword">select</span> round(<span class="number">1123.26723</span>,<span class="number">-1</span>);</span><br><span class="line"><span class="comment">-- 结果为1123.27</span></span><br><span class="line"><span class="keyword">select</span> round(<span class="number">1123.26723</span>,<span class="number">2</span>);</span><br></pre></td></tr></table></figure></li>
<li><p><strong>IFNULL(expr1,expr2)，如果expr1的值为null，则返回expr2的值，如果expr1的值不为null，则返回expr1的值。</strong></p>
</li>
<li><p><strong>CEILING()</strong> - 返回最小的整数，使这个整数大于或等于指定数的数值运算。</p>
</li>
<li><p><strong>FLOOR()</strong> - 返回最大整数，使这个整数小于或等于指定数的数值运算。</p>
</li>
<li><p><strong>char_length(str)</strong> 计算单位：字符，不管汉字还是数字或者是字母都算是一个字符</p>
</li>
<li><p>**length(str)**计算单位：字节，utf8编码：一个汉字三个字节，一个数字或字母一个字节。gbk编码：一个汉字两个字节，一个数字或字母一个字节。</p>
</li>
<li><p><strong>REPLACE ( string_expression , string_pattern , string_replacement )</strong><br>参数含义：</p>
<ol>
<li>string_expression 要搜索的字符串表达式。string_expression 可以是字符或二进制数据类型。</li>
<li>string_pattern 是要查找的子字符串。string_pattern 可以是字符或二进制数据类型。string_pattern 不能是空字符串 (‘’)。</li>
<li>string_replacement 替换字符串。string_replacement 可以是字符或二进制数据类型。</li>
</ol>
</li>
<li><p><strong>ORACLE</strong> : <strong>translate(string,from_str,to_str)</strong></p>
<ul>
<li>执行时,translate依次检查string中的每个字符是否在from_str中存在，如果不存在，那么这个string中的字符直接返回，如果存在，translate会记下这个字符在from_str中的位置，然后用to_str的同样位置的字符代替string中的这个字符作业返回结果，</li>
<li>举例如下 <code>select translate(&#39;ac&#39;,&#39;ab2&#39;,&#39;00&#39;) from dual;</code>结果：0c</li>
</ul>
</li>
<li><p><strong>SIGN(x)</strong><br>返回参数作为-1、0或1的符号，该符号取决于X的值为负、零或正。</p>
</li>
</ul>
<h3 id="UNION-操作符"><a href="#UNION-操作符" class="headerlink" title="UNION 操作符"></a>UNION 操作符</h3><ul>
<li>操作符合并两个或多个 SELECT 语句的结果。UNION 内部的每个 SELECT 语句必须拥有相同数量的列。列也必须拥有相似的数据类型。同时，每个 SELECT 语句中的列的顺序必须相同。</li>
<li><strong>默认地，UNION 操作符选取不同的值。如果允许重复的值，请使用 UNION ALL。</strong></li>
</ul>
<h3 id="EXISTS-操作符"><a href="#EXISTS-操作符" class="headerlink" title="EXISTS 操作符"></a>EXISTS 操作符</h3>  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> column_name(s)</span><br><span class="line"><span class="keyword">FROM</span> table_name</span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">EXISTS</span></span><br><span class="line">(<span class="keyword">SELECT</span> column_name <span class="keyword">FROM</span> table_name <span class="keyword">WHERE</span> <span class="keyword">condition</span>);</span><br></pre></td></tr></table></figure>
<ul>
<li>EXISTS 运算符用于判断查询子句是否有记录，如果有一条或多条记录存在返回 True，否则返回 False。EXISTS 可以与 NOT 一同使用，查找出不符合查询语句的记录.</li>
</ul>
<h3 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h3><p><a target="_blank" rel="noopener" href="https://www.runoob.com/note/49419">https://www.runoob.com/note/49419</a></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">WHERE</span> last_name REGEXP <span class="string">&#x27;field$&#x27;</span></span><br></pre></td></tr></table></figure>

<h3 id="CASE-WHEN"><a href="#CASE-WHEN" class="headerlink" title="CASE WHEN"></a>CASE WHEN</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CASE</span></span><br><span class="line">   <span class="keyword">WHEN</span> condition1 <span class="keyword">THEN</span> result1</span><br><span class="line">   <span class="keyword">WHEN</span> condition2 <span class="keyword">THEN</span> result2</span><br><span class="line">   <span class="keyword">WHEN</span> conditionN <span class="keyword">THEN</span> resultN</span><br><span class="line">   <span class="keyword">ELSE</span> <span class="keyword">result</span></span><br><span class="line"><span class="keyword">END</span>;</span><br></pre></td></tr></table></figure>
<ul>
<li>注意NULL 的判断是IS NULL</li>
<li>例：现老师要统计班中，有多少男同学，多少女同学，并统计男同学中有几人及格，女同学中有几人及格，要求用一个SQL输出结果。<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> </span><br><span class="line">	<span class="built_in">SUM</span> (<span class="keyword">CASE</span> <span class="keyword">WHEN</span> STU_SEX <span class="operator">=</span> <span class="number">0</span> <span class="keyword">THEN</span> <span class="number">1</span> <span class="keyword">ELSE</span> <span class="number">0</span> <span class="keyword">END</span>) <span class="keyword">AS</span> MALE_COUNT,</span><br><span class="line">	<span class="built_in">SUM</span> (<span class="keyword">CASE</span> <span class="keyword">WHEN</span> STU_SEX <span class="operator">=</span> <span class="number">1</span> <span class="keyword">THEN</span> <span class="number">1</span> <span class="keyword">ELSE</span> <span class="number">0</span> <span class="keyword">END</span>) <span class="keyword">AS</span> FEMALE_COUNT,</span><br><span class="line">	<span class="built_in">SUM</span> (<span class="keyword">CASE</span> <span class="keyword">WHEN</span> STU_SCORE <span class="operator">&gt;=</span> <span class="number">60</span> <span class="keyword">AND</span> STU_SEX <span class="operator">=</span> <span class="number">0</span> <span class="keyword">THEN</span> <span class="number">1</span> <span class="keyword">ELSE</span> <span class="number">0</span> <span class="keyword">END</span>) <span class="keyword">AS</span> MALE_PASS,</span><br><span class="line">	<span class="built_in">SUM</span> (<span class="keyword">CASE</span> <span class="keyword">WHEN</span> STU_SCORE <span class="operator">&gt;=</span> <span class="number">60</span> <span class="keyword">AND</span> STU_SEX <span class="operator">=</span> <span class="number">1</span> <span class="keyword">THEN</span> <span class="number">1</span> <span class="keyword">ELSE</span> <span class="number">0</span> <span class="keyword">END</span>) <span class="keyword">AS</span> FEMALE_PASS</span><br><span class="line"><span class="keyword">FROM</span> </span><br><span class="line">	THTF_STUDENTS</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="日期处理"><a href="#日期处理" class="headerlink" title="日期处理"></a>日期处理</h2><h3 id="年月日加减"><a href="#年月日加减" class="headerlink" title="年月日加减"></a>年月日加减</h3><ul>
<li><strong>interval</strong>作为一个关键字时，表示为时间间隔，常用在date_add()、date_sub()函数中，常用于时间的加减法。</li>
<li>直接操作<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span>  hiredate <span class="operator">-</span> <span class="type">interval</span> <span class="number">5</span> <span class="keyword">day</span> <span class="keyword">as</span> hd_minus_5D,</span><br><span class="line">      hiredate <span class="operator">+</span> <span class="type">interval</span> <span class="number">5</span> <span class="keyword">day</span> <span class="keyword">as</span> hd_plus_5D,</span><br><span class="line">      hiredate <span class="operator">-</span> <span class="type">interval</span> <span class="number">5</span> <span class="keyword">month</span> <span class="keyword">as</span> hd_minus_5M,</span><br><span class="line">      hiredate <span class="operator">+</span> <span class="type">interval</span> <span class="number">5</span> <span class="keyword">month</span> <span class="keyword">as</span> hd_plus_5M,</span><br><span class="line">      hiredate <span class="operator">-</span> <span class="type">interval</span> <span class="number">5</span> <span class="keyword">year</span> <span class="keyword">as</span> hd_minus_5Y,</span><br><span class="line">      hiredate <span class="operator">+</span> <span class="type">interval</span> <span class="number">5</span> <span class="keyword">year</span> <span class="keyword">as</span> hd_plus_5Y</span><br><span class="line"><span class="keyword">from</span> emp</span><br><span class="line"><span class="keyword">where</span> deptno<span class="operator">=</span><span class="number">10</span></span><br></pre></td></tr></table></figure></li>
<li>date_add函数<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span>  date_add(hiredate,<span class="type">interval</span> <span class="number">-5</span> <span class="keyword">day</span>) <span class="keyword">as</span> hd_minus_5D,</span><br><span class="line">      date_add(hiredate,<span class="type">interval</span> <span class="number">5</span> <span class="keyword">day</span>) <span class="keyword">as</span> hd_plus_5D,</span><br><span class="line">      date_add(hiredate,<span class="type">interval</span> <span class="number">-5</span> <span class="keyword">month</span>) <span class="keyword">as</span> hd_minus_5M,</span><br><span class="line">      date_add(hiredate,<span class="type">interval</span> <span class="number">5</span> <span class="keyword">month</span>) <span class="keyword">as</span> hd_plus_5M,</span><br><span class="line">      date_add(hiredate,<span class="type">interval</span> <span class="number">-5</span> <span class="keyword">year</span>) <span class="keyword">as</span> hd_minus_5Y,</span><br><span class="line">      date_add(hiredate,<span class="type">interval</span> <span class="number">5</span> <span class="keyword">year</span>) <span class="keyword">as</span> hd_plus_5DY</span><br><span class="line"><span class="keyword">from</span> emp</span><br><span class="line"><span class="keyword">where</span> deptno<span class="operator">=</span><span class="number">10</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="常见的时间粒度-interval"><a href="#常见的时间粒度-interval" class="headerlink" title="常见的时间粒度 interval"></a>常见的时间粒度 interval</h3><ol>
<li>MICROSECOND</li>
<li>SECOND</li>
<li>MINUTE</li>
<li>HOUR</li>
<li>DAY</li>
<li>WEEK</li>
<li>MONTH</li>
<li>QUARTER</li>
<li>YEAR</li>
</ol>
<ul>
<li>日期取部分</li>
</ul>
<ol>
<li><code>select day(createtime) from life_unite_product</code> –取时间字段的天值</li>
<li><code>select month(createtime) from life_unite_product</code> –取时间字段的月值</li>
<li><code>select year(createtime) from life_unite_product</code> –取时间字段的年值<br><img src="/2024/05/21/SQL/image1.png"></li>
</ol>
<h3 id="时间间隔"><a href="#时间间隔" class="headerlink" title="时间间隔"></a>时间间隔</h3><ul>
<li>DATEDIFF() 函数返回两个日期之间的间隔。<br>DATEDIFF() 函数是 SQL Server 中的一个日期函数，用于计算两个日期之间的时间间隔。它接受三个参数：时间间隔单位、开始日期和结束日期，并返回两个日期之间的单位时间间隔。</li>
</ul>
<h3 id="两个日期之间的工作日个数"><a href="#两个日期之间的工作日个数" class="headerlink" title="两个日期之间的工作日个数"></a>两个日期之间的工作日个数</h3><p><a target="_blank" rel="noopener" href="https://geek-docs.com/sql/sql-examples/sql-to-calculate-working-days-between-two-dates.html">https://geek-docs.com/sql/sql-examples/sql-to-calculate-working-days-between-two-dates.html</a></p>
<h3 id="判断闰年"><a href="#判断闰年" class="headerlink" title="判断闰年"></a>判断闰年</h3><ul>
<li>last_day()函数是那个月的最后一天<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span>	<span class="keyword">day</span>(							</span><br><span class="line"> last_day(															</span><br><span class="line">   date_add(</span><br><span class="line">   date_add(</span><br><span class="line">   date_add(<span class="built_in">current_date</span>,</span><br><span class="line">   <span class="type">interval</span>	<span class="operator">-</span>dayofyear(<span class="built_in">current_date</span>)	<span class="keyword">day</span>),</span><br><span class="line">   <span class="type">interval</span>	<span class="number">1</span>	<span class="keyword">day</span>),</span><br><span class="line">   <span class="type">interval</span>	<span class="number">1</span>	<span class="keyword">month</span>)))	dy</span><br><span class="line"><span class="keyword">from</span>	t1</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="判断某年有几天"><a href="#判断某年有几天" class="headerlink" title="判断某年有几天"></a>判断某年有几天</h3><ul>
<li>找到今年的第一天和下一年的第一天<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> datediff((curr_year <span class="operator">+</span> <span class="type">interval</span> <span class="number">1</span> <span class="keyword">year</span>),curr_year)</span><br><span class="line">  <span class="keyword">from</span> (</span><br><span class="line">    <span class="keyword">select</span> adddate(<span class="built_in">current_date</span>,<span class="operator">-</span>dayofyear(<span class="built_in">current_date</span>)<span class="operator">+</span><span class="number">1</span>) curr_year</span><br><span class="line">      <span class="keyword">from</span> t1</span><br><span class="line">    ) x</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="相关函数"><a href="#相关函数" class="headerlink" title="相关函数"></a>相关函数</h3><ul>
<li>DAYOFYEAR() 函数返回给定日期的一年中的哪一天（从 1 到 366 的数字）。</li>
<li>DAYOFWEEK() 函数返回给定日期的工作日索引（从 1 到 7 的数字）。<br>注意: 1&#x3D;星期日，2&#x3D;星期一，3&#x3D;星期二，4&#x3D;星期三，5&#x3D;星期四，6&#x3D;星期五，7&#x3D;星期六。</li>
<li>DAYOFMONTH() 函数返回给定日期的月份日期（1 到 31 之间的数字）。</li>
<li>MONTHNAME() 函数返回给定日期的月份名称。</li>
<li>DAYNAME函数接受1个参数，该参数是要获取其工作日名称的日期。 </li>
<li>CURDATE()获取当前的时间</li>
</ul>
<h2 id="数据处理"><a href="#数据处理" class="headerlink" title="数据处理"></a>数据处理</h2><h3 id="平均值"><a href="#平均值" class="headerlink" title="平均值"></a>平均值</h3><ul>
<li><img src="/2024/05/21/SQL/image5.png" alt="alt text"><br>null可以coalesce(sal,0)函数可以把null变成指定的值，否则这一行直接就不管了</li>
</ul>
<h3 id="最大最小"><a href="#最大最小" class="headerlink" title="最大最小"></a>最大最小</h3><ul>
<li>max,min</li>
</ul>
<h3 id="求和"><a href="#求和" class="headerlink" title="求和"></a>求和</h3><ul>
<li>sum</li>
</ul>
<h3 id="累计求和"><a href="#累计求和" class="headerlink" title="累计求和"></a>累计求和</h3><ul>
<li><img src="/2024/05/21/SQL/image6.png" alt="alt text"><br>sql就是用子查询</li>
</ul>
<h3 id="众数"><a href="#众数" class="headerlink" title="众数"></a>众数</h3><ul>
<li><img src="/2024/05/21/SQL/image7.png" alt="alt text"><br>sql就是对每个统计次数，保证是最多的</li>
</ul>
<h3 id="计算中位数"><a href="#计算中位数" class="headerlink" title="计算中位数"></a>计算中位数</h3><ul>
<li>oracle是比较简单的，直接用median()函数即可<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> median(sal)</span><br><span class="line">		<span class="keyword">from</span>	emp</span><br><span class="line">	<span class="keyword">where</span>	deptno<span class="operator">=</span><span class="number">20</span></span><br></pre></td></tr></table></figure></li>
<li>mysql可以用行数+偏移量（现在好像也不行了，limit后面必须是一个整数常量）<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span>	<span class="built_in">AVG</span>(sal)	<span class="keyword">AS</span>	median_salary</span><br><span class="line"><span class="keyword">FROM</span>	(</span><br><span class="line"> <span class="keyword">SELECT</span>	sal</span><br><span class="line"> <span class="keyword">FROM</span>	emp</span><br><span class="line"> <span class="keyword">ORDER</span> <span class="keyword">BY</span> sal</span><br><span class="line"> LIMIT <span class="number">2</span>	<span class="operator">-</span> (<span class="keyword">SELECT</span>	<span class="built_in">COUNT</span>(<span class="operator">*</span>)	<span class="keyword">FROM</span>	employees)	<span class="operator">%</span>	<span class="number">2</span>	<span class="comment">--Determines	if	the	count	is	odd	or	even</span></span><br><span class="line"> <span class="keyword">OFFSET</span>	(<span class="keyword">SELECT</span>	(<span class="built_in">COUNT</span>(<span class="operator">*</span>)	<span class="operator">-</span> <span class="number">1</span>)	<span class="operator">/</span>	<span class="number">2</span>	<span class="keyword">FROM</span>	employees)	<span class="comment">--Skips	the	first	n	rows	where	n	is	half	of	the	row	count</span></span><br><span class="line">)	<span class="keyword">AS</span>	subquery;</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="百分比"><a href="#百分比" class="headerlink" title="百分比"></a>百分比</h3><ul>
<li>记得*100<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span>	(<span class="built_in">sum</span>(<span class="keyword">case</span> <span class="keyword">when</span>	deptno<span class="operator">=</span> <span class="number">10</span>	<span class="keyword">then</span>	sal <span class="keyword">end</span>)<span class="operator">/</span><span class="built_in">sum</span>(sal))<span class="operator">*</span><span class="number">100</span>	<span class="keyword">as</span>	pct</span><br><span class="line">	<span class="keyword">from</span>	emp</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="SQL字符串"><a href="#SQL字符串" class="headerlink" title="SQL字符串"></a>SQL字符串</h2><h3 id="遍历字符串"><a href="#遍历字符串" class="headerlink" title="遍历字符串"></a>遍历字符串</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> substr(e.ename,iter.pos,<span class="number">1</span>) <span class="keyword">as</span> C</span><br><span class="line"><span class="keyword">from</span> (<span class="keyword">select</span> ename <span class="keyword">from</span> emp <span class="keyword">where</span> ename <span class="operator">=</span> <span class="string">&#x27;KING&#x27;</span>) e,</span><br><span class="line">  (<span class="keyword">select</span> id <span class="keyword">as</span> pos <span class="keyword">from</span> t10) iter</span><br><span class="line"><span class="keyword">where</span> iter.pos <span class="operator">&lt;=</span> length(e.ename)</span><br></pre></td></tr></table></figure>
<ul>
<li>SUBSTR(str,pos,len): 从pos开始的位置，截取len个字符，没有len这个参数就是截取到最后</li>
<li>t10是什么？t_num表一般就是存了1-num的数字，一个num个数。这里使用t10也就是默认了字符串长度不会超过10</li>
<li>我们可以直接不建表，用以下方法实现数据透视表 <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> t2 <span class="keyword">as</span> ((<span class="keyword">select</span> <span class="number">1</span> id) <span class="keyword">union</span> (<span class="keyword">select</span> <span class="number">2</span> id))</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="嵌入引号"><a href="#嵌入引号" class="headerlink" title="嵌入引号"></a>嵌入引号</h3><ul>
<li>连续引号表示引号<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="string">&#x27;It&#x27;&#x27;s a sunny day&#x27;</span> <span class="keyword">AS</span> example_string;</span><br></pre></td></tr></table></figure></li>
<li>转义<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="string">&#x27;It\&#x27;</span>s a sunny <span class="keyword">day</span><span class="string">&#x27; AS example_string;</span></span><br></pre></td></tr></table></figure></li>
<li>CONCAT函数<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> CONCAT(<span class="string">&#x27;It&#x27;</span>, <span class="string">&#x27;&#x27;&#x27;&#x27;</span>, <span class="string">&#x27;s a sunny day&#x27;</span>) <span class="keyword">AS</span> example_string;</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="字符出现次数"><a href="#字符出现次数" class="headerlink" title="字符出现次数"></a>字符出现次数</h3><ul>
<li>统计字符串内有多少个”LL”，记得除一下要找的子串<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span></span><br><span class="line">(length(<span class="string">&#x27;HELLO HELLO&#x27;</span>)<span class="operator">-</span></span><br><span class="line">length(replace(<span class="string">&#x27;HELLO HELLO&#x27;</span>,<span class="string">&#x27;LL&#x27;</span>,<span class="string">&#x27;&#x27;</span>)))<span class="operator">/</span>length(<span class="string">&#x27;LL&#x27;</span>)</span><br><span class="line"><span class="keyword">as</span> correct_cnt,</span><br><span class="line">(length(<span class="string">&#x27;HELLO HELLO&#x27;</span>)<span class="operator">-</span></span><br><span class="line">length(replace(<span class="string">&#x27;HELLO HELLO&#x27;</span>,<span class="string">&#x27;LL&#x27;</span>,<span class="string">&#x27;&#x27;</span>))) <span class="keyword">as</span> incorrect_cnt</span><br><span class="line"><span class="keyword">from</span> t1</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="删除字符"><a href="#删除字符" class="headerlink" title="删除字符"></a>删除字符</h3><ul>
<li>删除元音和0<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> ename,</span><br><span class="line">  replace(</span><br><span class="line">  replace(</span><br><span class="line">  replace(</span><br><span class="line">  replace(</span><br><span class="line">  replace(ename,<span class="string">&#x27;A&#x27;</span>,<span class="string">&#x27;&#x27;</span>),<span class="string">&#x27;E&#x27;</span>,<span class="string">&#x27;&#x27;</span>),<span class="string">&#x27;I&#x27;</span>,<span class="string">&#x27;&#x27;</span>),<span class="string">&#x27;O&#x27;</span>,<span class="string">&#x27;&#x27;</span>),<span class="string">&#x27;U&#x27;</span>,<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">  <span class="keyword">as</span> stripped1,</span><br><span class="line">  sal,</span><br><span class="line">  replace(sal,<span class="number">0</span>,<span class="string">&#x27;&#x27;</span>) stripped2</span><br><span class="line"><span class="keyword">from</span> emp</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="分离数字和字母"><a href="#分离数字和字母" class="headerlink" title="分离数字和字母"></a>分离数字和字母</h3><ul>
<li>ORACLE<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Oracle */</span></span><br><span class="line"><span class="keyword">select</span> replace(</span><br><span class="line"> <span class="built_in">translate</span>(data,<span class="string">&#x27;0123456789&#x27;</span>,<span class="string">&#x27;0000000000&#x27;</span>),<span class="string">&#x27;0&#x27;</span>) ename,</span><br><span class="line"> to_number(</span><br><span class="line">    replace(</span><br><span class="line">    <span class="built_in">translate</span>(<span class="built_in">lower</span>(data),</span><br><span class="line">     <span class="string">&#x27;abcdefghijklmnopqrstuvwxyz&#x27;</span>,</span><br><span class="line">     rpad(<span class="string">&#x27;z&#x27;</span>,<span class="number">26</span>,<span class="string">&#x27;z&#x27;</span>)),<span class="string">&#x27;z&#x27;</span>)) sal</span><br><span class="line"> <span class="keyword">from</span> (</span><br><span class="line">   <span class="keyword">select</span> ename<span class="operator">||</span>sal data</span><br><span class="line">   <span class="keyword">from</span> emp</span><br><span class="line">)</span><br></pre></td></tr></table></figure></li>
<li>MYSQL<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span>	</span><br><span class="line"> data,	</span><br><span class="line"> REGEXP_REPLACE(data,	<span class="string">&#x27;[0-9]&#x27;</span>,	<span class="string">&#x27;&#x27;</span>)	<span class="keyword">AS</span>	characters,	</span><br><span class="line"> REGEXP_REPLACE(data,	<span class="string">&#x27;[^0-9]&#x27;</span>,	<span class="string">&#x27;&#x27;</span>)	<span class="keyword">AS</span>	digits</span><br><span class="line"> <span class="keyword">FROM</span>	emp</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="字符串筛选"><a href="#字符串筛选" class="headerlink" title="字符串筛选"></a>字符串筛选</h3><ul>
<li>从表里筛选出部分行数据，筛选条件是只包含字母和数字字符</li>
<li>([^a-dX]匹配除 “a”、“b”、“c”、“d”、“X” 以外的任何字符。)</li>
<li>0是不匹配，1是匹配<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> data</span><br><span class="line"><span class="keyword">from</span> V</span><br><span class="line"><span class="keyword">where</span> data regexp <span class="string">&#x27;[^0-9a-zA-Z]&#x27;</span> <span class="operator">=</span> <span class="number">0</span> </span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="通配符"><a href="#通配符" class="headerlink" title="通配符"></a>通配符</h3><ul>
<li>[charlist]	字符列中的任何单一字符</li>
<li>[^charlist] 不在字符列中的任何单一字符</li>
<li>“%” 百分号通配符: 表示任何字符出现任意次数 (可以是0次)。</li>
<li>“<em>“ 下划线通配符:表示只能匹配单个字符,不能多也不能少,就是一个字符。当然，也可以like “陈</em>___”，数量不限。</li>
<li>like操作符:LIKE作用是指示mysql后面的搜索模式是利用通配符而不是直接相等匹配进行比较；但如果like后面没出现通配符，则在SQL执行优化时将 like 默认为 “&#x3D;”执行</li>
</ul>
<h3 id="Group-concat函数"><a href="#Group-concat函数" class="headerlink" title="Group_concat函数"></a>Group_concat函数</h3><ul>
<li>分类把一个字段的集合到一起<br><img src="/2024/05/21/SQL/image3.png" alt="alt text"></li>
<li>group_concat([DISTINCT] 要连接的字段 [Order BY ASC&#x2F;DESC 排序字段] [Separator ‘分隔符’])</li>
<li><code>SELECT id,GROUP_CONCAT(score ORDER BY score DESC) FROM testgroup GROUP BY id</code><br><img src="/2024/05/21/SQL/image4.png" alt="alt text"></li>
<li><code>SELECT id,GROUP_CONCAT(score SEPARATOR &#39;;&#39;) FROM testgroup GROUP BY id</code></li>
</ul>
<h2 id="题型总结"><a href="#题型总结" class="headerlink" title="题型总结"></a>题型总结</h2><h3 id="全部参与类"><a href="#全部参与类" class="headerlink" title="全部参与类"></a>全部参与类</h3><ol>
<li>employee， project(eno,pno)表，找出所有员工都参与的项目.<br>思路：项目的参与人数 &#x3D; 员工人数<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> pno</span><br><span class="line"><span class="keyword">FROM</span> works</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> pno</span><br><span class="line"><span class="keyword">HAVING</span> <span class="built_in">COUNT</span>(<span class="keyword">DISTINCT</span> eno) <span class="operator">=</span> (<span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="keyword">FROM</span> employees);</span><br></pre></td></tr></table></figure></li>
<li>sailor，reserve，boats表，找出预定了所有船的员工(相当于找出参与了所有项目的员工)<br>思路：通过group by找出每个人租的所有船，租船的数目 &#x3D; 船的总数(注意去重)<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> sailors.sname </span><br><span class="line"><span class="keyword">FROM</span> sailors</span><br><span class="line"><span class="keyword">JOIN</span> reserves <span class="keyword">ON</span> reserves.sid <span class="operator">=</span> sailors.sid</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> sailors.sid, sailors.sname</span><br><span class="line"><span class="keyword">HAVING</span> <span class="built_in">COUNT</span>(<span class="keyword">DISTINCT</span> reserves.bid) <span class="operator">=</span> (<span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="keyword">FROM</span> boats);</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="多表连接，多条件"><a href="#多表连接，多条件" class="headerlink" title="多表连接，多条件"></a>多表连接，多条件</h3><ul>
<li>sailor，reserve，boats表，找出年龄在35岁以上，并且在2020-08-01至2020-08-31期间同时预定了红色船（RED）和绿色船（GREEN）的水手，结果返回水手姓名sname。<br>思路：用sid判断这个id是不是同时满足多个要求，而不是看id对应的人是不是同时租了两种船<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> s.sname</span><br><span class="line"><span class="keyword">FROM</span> sailors s</span><br><span class="line"><span class="keyword">WHERE</span> s.age <span class="operator">&gt;</span> <span class="number">35</span></span><br><span class="line"><span class="keyword">AND</span> s.sid <span class="keyword">IN</span> (</span><br><span class="line">   <span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> r1.sid</span><br><span class="line">   <span class="keyword">FROM</span> reserves r1</span><br><span class="line">   <span class="keyword">JOIN</span> boats b1 <span class="keyword">ON</span> r1.bid <span class="operator">=</span> b1.bid</span><br><span class="line">   <span class="keyword">WHERE</span> b1.color <span class="operator">=</span> <span class="string">&#x27;GREEN&#x27;</span></span><br><span class="line">   <span class="keyword">AND</span> r1.reserve_date <span class="keyword">BETWEEN</span> <span class="string">&#x27;2020-08-01&#x27;</span> <span class="keyword">AND</span> <span class="string">&#x27;2020-08-31&#x27;</span></span><br><span class="line">)</span><br><span class="line"><span class="keyword">AND</span> s.sid <span class="keyword">IN</span> (</span><br><span class="line">   <span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> r2.sid</span><br><span class="line">   <span class="keyword">FROM</span> reserves r2</span><br><span class="line">   <span class="keyword">JOIN</span> boats b2 <span class="keyword">ON</span> r2.bid <span class="operator">=</span> b2.bid</span><br><span class="line">   <span class="keyword">WHERE</span> b2.color <span class="operator">=</span> <span class="string">&#x27;RED&#x27;</span></span><br><span class="line">   <span class="keyword">AND</span> r2.reserve_date <span class="keyword">BETWEEN</span> <span class="string">&#x27;2020-08-01&#x27;</span> <span class="keyword">AND</span> <span class="string">&#x27;2020-08-31&#x27;</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="分区"><a href="#分区" class="headerlink" title="分区"></a>分区</h3><ul>
<li>用户表，订单表，产品表，找到每个用户最近三笔订单。若用户订单少于3笔，则返回该用户的全部订单，找到每个用户的最近三笔订单。如果用户的订单少于 3 笔，则返回他的全部订单。返回的结果按照 customer_name 升序 排列。如果有相同的排名，则按照 customer_id 升序 排列。如果排名还有相同，则按照 order_date 降序 排列。 <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*LEETCODE 1532*/</span></span><br><span class="line"><span class="keyword">SELECT</span> </span><br><span class="line">   c.name customer_name,</span><br><span class="line">   c.customer_id, </span><br><span class="line">   t.order_id, </span><br><span class="line">   t.order_date</span><br><span class="line"><span class="keyword">FROM</span> (</span><br><span class="line">   <span class="keyword">SELECT</span>  </span><br><span class="line">      order_id,</span><br><span class="line">      order_date,</span><br><span class="line">      customer_id,</span><br><span class="line">      <span class="built_in">row_number</span>() <span class="keyword">over</span>(<span class="keyword">partition</span> <span class="keyword">by</span> customer_id <span class="keyword">order</span> <span class="keyword">by</span> order_date <span class="keyword">DESC</span>) <span class="keyword">as</span> rank_tag</span><br><span class="line">   <span class="keyword">FROM</span> orders ) t</span><br><span class="line"><span class="keyword">LEFT</span> <span class="keyword">JOIN</span> customers c  </span><br><span class="line">   <span class="keyword">ON</span> t.customer_id <span class="operator">=</span> c.customer_id    </span><br><span class="line"><span class="keyword">WHERE</span> </span><br><span class="line">   rank_tag <span class="operator">&lt;=</span> <span class="number">3</span></span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> </span><br><span class="line">   name, customer_id, order_date <span class="keyword">DESC</span>;</span><br></pre></td></tr></table></figure>
 当然我们也可以不用分区的函数，直接手搓。。也就会是对于每一个Order，我们都直接计算它的rank，rank的计算就是再次遍历order表，得出比他大的个数 <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> name customer_name, order_id, order_date</span><br><span class="line"><span class="keyword">from</span></span><br><span class="line">(</span><br><span class="line">   <span class="keyword">select</span></span><br><span class="line">      o1.customer_id,</span><br><span class="line">      o1.order_id,</span><br><span class="line">      o1.order_date,</span><br><span class="line">      (</span><br><span class="line">      <span class="keyword">select</span></span><br><span class="line">         <span class="number">1</span> <span class="operator">+</span> <span class="built_in">count</span>(<span class="operator">*</span>)</span><br><span class="line">      <span class="keyword">from</span></span><br><span class="line">         orders o7</span><br><span class="line">      <span class="keyword">where</span></span><br><span class="line">         o7.customer_id <span class="operator">=</span> o1.customer_id</span><br><span class="line">         <span class="keyword">and</span> o7.order_date <span class="operator">&gt;</span> o1.order_date</span><br><span class="line">      ) <span class="keyword">as</span> rnk</span><br><span class="line">   <span class="keyword">from</span></span><br><span class="line">      orders o1</span><br><span class="line">) t</span><br><span class="line"><span class="keyword">left</span> <span class="keyword">join</span> customers <span class="keyword">on</span> customers.customer_id <span class="operator">=</span> t.customer_id</span><br><span class="line"><span class="keyword">where</span> rnk <span class="operator">&lt;=</span> <span class="number">3</span></span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> name <span class="keyword">asc</span>, order_date <span class="keyword">desc</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="参与最多"><a href="#参与最多" class="headerlink" title="参与最多"></a>参与最多</h3><p>很套路且符合直觉，一般就是count+group by+order by+limit</p>
<ul>
<li>编写一个sql语句，查询参加比赛场次最多的选手，若参与比赛场次相同，选择用户编号player_id较小的选手，结果返回用户编号player_id和参与的比赛数量match_num。<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> players.player_id,<span class="built_in">COUNT</span>(matches.match_id)</span><br><span class="line"><span class="keyword">FROM</span> players</span><br><span class="line"><span class="keyword">LEFT</span> <span class="keyword">JOIN</span> <span class="keyword">matches</span></span><br><span class="line"><span class="keyword">ON</span> matches.first_player <span class="operator">=</span> players.player_id <span class="keyword">OR</span> matches.second_player <span class="operator">=</span> players.player_id</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> players.player_id</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> <span class="built_in">COUNT</span>(matches.match_id) <span class="keyword">DESC</span>, players.player_id <span class="keyword">ASC</span></span><br><span class="line">LIMIT <span class="number">1</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="统计一个id在两个字段上的出现和"><a href="#统计一个id在两个字段上的出现和" class="headerlink" title="统计一个id在两个字段上的出现和"></a>统计一个id在两个字段上的出现和</h3><ul>
<li><p>编写一个sql语句，找出拥有最多的好友的用户以及他拥有的好友数目，好友数相同时选择user_id较小的用户，结果返回用户编号user_id和好友数目friend_num。(request_id,accepter_id,accept_date) 是该表的主键，一个人可能会多次同意其他人的申请</p>
</li>
<li><p>统计某个id在requester_id和accepter_id中出现的次数和。直接使用union会合并重复数据，因此这里使用union all。统计后排序再取表中第一项即可。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> ids <span class="keyword">as</span> user_id, <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="keyword">as</span> friend_num</span><br><span class="line"><span class="keyword">FROM</span> (</span><br><span class="line">   <span class="keyword">SELECT</span> requester_id <span class="keyword">as</span> ids</span><br><span class="line">   <span class="keyword">FROM</span> accepted_requests</span><br><span class="line">   <span class="keyword">UNION</span> <span class="keyword">ALL</span></span><br><span class="line">   <span class="keyword">SELECT</span> accepter_id <span class="keyword">as</span> ids</span><br><span class="line">   <span class="keyword">FROM</span> accepted_requests</span><br><span class="line">) <span class="keyword">as</span> t</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> ids</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> friend_num <span class="keyword">DESC</span></span><br><span class="line">LIMIT <span class="number">1</span>;</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="子查询连接"><a href="#子查询连接" class="headerlink" title="子查询连接"></a>子查询连接</h3><ul>
<li>有时我们想要多次枚举某个字段的值，比如这道题，查询登录新用户个数不少于2个的日期，结果返回日期login_date和登录新用户个数new_user_num，以login_date升序排序。我们的一种想法是：先找出所有日期，再对于每个日期，看看那一天是否有新用户（也就是用户第一次登录就是那一天）<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span></span><br><span class="line">t1.login_date,</span><br><span class="line"><span class="built_in">count</span>(t2.user_id) <span class="keyword">as</span> new_user_num</span><br><span class="line"><span class="keyword">from</span></span><br><span class="line">(</span><br><span class="line">   <span class="keyword">select</span></span><br><span class="line">      <span class="keyword">distinct</span> login_date</span><br><span class="line">   <span class="keyword">from</span></span><br><span class="line">      logins</span><br><span class="line">) t1</span><br><span class="line"><span class="keyword">left</span> <span class="keyword">join</span> (</span><br><span class="line">   <span class="keyword">select</span></span><br><span class="line">      user_id,</span><br><span class="line">      <span class="built_in">min</span>(login_date) first_date</span><br><span class="line">   <span class="keyword">from</span></span><br><span class="line">      logins</span><br><span class="line">   <span class="keyword">group</span> <span class="keyword">by</span></span><br><span class="line">      user_id</span><br><span class="line">) t2 <span class="keyword">on</span> t1.login_date <span class="operator">=</span> t2.first_date</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span></span><br><span class="line">t1.login_date</span><br><span class="line"><span class="keyword">having</span></span><br><span class="line">new_user_num <span class="operator">&gt;=</span> <span class="number">2</span></span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span></span><br><span class="line">t1.login_date <span class="keyword">asc</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="时间处理"><a href="#时间处理" class="headerlink" title="时间处理"></a>时间处理</h3><ul>
<li>编写一个sql语句，查询每个月的通过率，结果返回月份mon及通过率accept_rate（不包括通过率为0的月份），以mon升序排列。<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span></span><br><span class="line">  a_m1.mon,</span><br><span class="line">  a_m2.count2 <span class="operator">/</span> a_m1.count1 <span class="keyword">as</span> accept_rate</span><br><span class="line"><span class="keyword">from</span></span><br><span class="line">  (</span><br><span class="line">    <span class="keyword">select</span></span><br><span class="line">      mon,</span><br><span class="line">      <span class="built_in">count</span>(<span class="operator">*</span>) <span class="keyword">as</span> count1</span><br><span class="line">    <span class="keyword">from</span>(</span><br><span class="line">        <span class="keyword">select</span></span><br><span class="line">          sender_id,</span><br><span class="line">          send_to_id,</span><br><span class="line">          <span class="keyword">month</span>(request_date) <span class="keyword">as</span> mon</span><br><span class="line">        <span class="keyword">from</span></span><br><span class="line">          friend_requests</span><br><span class="line">      ) <span class="keyword">as</span> t1 <span class="comment">/* 提取每个申请的月份 */</span></span><br><span class="line">    <span class="keyword">group</span> <span class="keyword">by</span></span><br><span class="line">      mon</span><br><span class="line">  ) <span class="keyword">as</span> a_m1, <span class="comment">/* 计算每个月的申请总数 */</span></span><br><span class="line">  (</span><br><span class="line">    <span class="keyword">select</span></span><br><span class="line">      mon,</span><br><span class="line">      <span class="built_in">count</span>(<span class="operator">*</span>) <span class="keyword">as</span> count2</span><br><span class="line">    <span class="keyword">from</span>(</span><br><span class="line">        <span class="keyword">select</span></span><br><span class="line">          requester_id,</span><br><span class="line">          accepter_id,</span><br><span class="line">          <span class="keyword">month</span>(accept_date) <span class="keyword">as</span> mon</span><br><span class="line">        <span class="keyword">from</span></span><br><span class="line">          accepted_requests</span><br><span class="line">      ) <span class="keyword">as</span> t1 <span class="comment">/* 提取每个接受的月份 */</span></span><br><span class="line">    <span class="keyword">group</span> <span class="keyword">by</span></span><br><span class="line">      mon</span><br><span class="line">  ) <span class="keyword">as</span> a_m2 <span class="comment">/* 计算每个月的接受总数 */</span></span><br><span class="line"><span class="keyword">where</span></span><br><span class="line">  a_m1.mon <span class="operator">=</span> a_m2.mon</span><br><span class="line">  <span class="keyword">and</span> a_m1.count1 <span class="operator">/</span> a_m2.count2 <span class="operator">!=</span> <span class="number">0</span></span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span></span><br><span class="line">  a_m1.mon <span class="keyword">asc</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="数学问题"><a href="#数学问题" class="headerlink" title="数学问题"></a>数学问题</h3><ul>
<li><strong>中位数</strong>：编写一个sql语句，查询各个岗位分数升序排列之后的中位数所在的位置start，end（范围从1开始，一个岗位参与人数为单数时 start &#x3D; end，为偶数时 end &#x3D; start + 1），以job升序排序。</li>
<li>用IF处理奇数偶数的情况<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> job, </span><br><span class="line">   IF(<span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="operator">%</span> <span class="number">2</span> <span class="operator">=</span> <span class="number">0</span>, <span class="built_in">CEILING</span>(<span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="operator">/</span> <span class="number">2</span>), <span class="built_in">CEILING</span>(<span class="built_in">COUNT</span>(<span class="operator">*</span>)<span class="operator">/</span> <span class="number">2</span>)) <span class="keyword">start</span>,</span><br><span class="line">   IF(<span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="operator">%</span> <span class="number">2</span> <span class="operator">=</span> <span class="number">0</span>, <span class="built_in">CEILING</span>(<span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="operator">/</span> <span class="number">2</span> <span class="operator">+</span> <span class="number">1</span>), <span class="built_in">CEILING</span>(<span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="operator">/</span> <span class="number">2</span>)) <span class="keyword">end</span></span><br><span class="line"><span class="keyword">FROM</span> grades</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> job</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> job <span class="keyword">ASC</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="利用any处理非最大最小"><a href="#利用any处理非最大最小" class="headerlink" title="利用any处理非最大最小"></a>利用any处理非最大最小</h3><ul>
<li>找出那些既没有最多，也没有最少参与者的活动的名字。Activities 表中的任意活动都有在 Friends 中参与过。可以以任何顺序返回结果。<br><img src="/2024/05/21/SQL/image2.png"><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> activity <span class="keyword">as</span> ACTIVITY</span><br><span class="line"><span class="keyword">from</span> friends</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> activity</span><br><span class="line"><span class="keyword">having</span> <span class="built_in">count</span>(<span class="operator">*</span>)<span class="operator">&gt;</span><span class="keyword">any</span>(</span><br><span class="line">    <span class="keyword">select</span> <span class="built_in">count</span>(<span class="operator">*</span>) <span class="keyword">from</span> friends <span class="keyword">group</span> <span class="keyword">by</span> activity</span><br><span class="line">) <span class="keyword">and</span> <span class="built_in">count</span>(<span class="operator">*</span>)<span class="operator">&lt;</span><span class="keyword">any</span>(</span><br><span class="line">    <span class="keyword">select</span> <span class="built_in">count</span>(<span class="operator">*</span>) <span class="keyword">from</span> friends <span class="keyword">group</span> <span class="keyword">by</span> activity</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
当然我们也可以还是就用max和min<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">WITH</span> TT <span class="keyword">AS</span> (</span><br><span class="line">    <span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> activity,</span><br><span class="line">    <span class="built_in">COUNT</span>(id) <span class="keyword">AS</span> times</span><br><span class="line">    <span class="keyword">FROM</span> Friends</span><br><span class="line">    <span class="keyword">GROUP</span> <span class="keyword">BY</span> Friends.activity </span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> activity <span class="keyword">FROM</span> TT</span><br><span class="line"><span class="keyword">WHERE</span> times <span class="operator">&lt;</span> (<span class="keyword">SELECT</span> <span class="built_in">MAX</span>(times) <span class="keyword">FROM</span> TT)</span><br><span class="line">  <span class="keyword">AND</span> times <span class="operator">&gt;</span> (<span class="keyword">SELECT</span> <span class="built_in">MIN</span>(times) <span class="keyword">FROM</span> TT)</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="排序"><a href="#排序" class="headerlink" title="排序"></a>排序</h3><ul>
<li>第x高的就是LIMIT + OFFSET即可</li>
<li>查询并返回 Employee 表中第二高的薪水 。如果不存在第二高的薪水，查询应该返回 null(Pandas 则返回 None) 。<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> ifnull(</span><br><span class="line">(<span class="keyword">select</span> <span class="keyword">distinct</span> salary</span><br><span class="line"> <span class="keyword">as</span> SecondHighestSalary</span><br><span class="line"><span class="keyword">from</span> Employee</span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> salary <span class="keyword">desc</span></span><br><span class="line">limit <span class="number">1</span> <span class="keyword">offset</span> <span class="number">1</span>),<span class="keyword">null</span>) <span class="keyword">as</span> SecondHighestSalary</span><br></pre></td></tr></table></figure></li>
<li>连接表<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span></span><br><span class="line">d.department_name <span class="keyword">as</span> department,</span><br><span class="line">e.name,</span><br><span class="line">e.salary</span><br><span class="line"><span class="keyword">from</span></span><br><span class="line">employees e</span><br><span class="line"><span class="keyword">join</span> departments d</span><br><span class="line"><span class="keyword">on</span>  e.department_id <span class="operator">=</span> d.department_id</span><br><span class="line"><span class="keyword">where</span></span><br><span class="line">   salary <span class="operator">=</span> IFNULL(</span><br><span class="line">   (</span><br><span class="line">      <span class="keyword">select</span></span><br><span class="line">      <span class="keyword">distinct</span> e1.salary</span><br><span class="line">      <span class="keyword">from</span></span><br><span class="line">      employees <span class="keyword">as</span> e1</span><br><span class="line">      <span class="keyword">where</span></span><br><span class="line">      e.department_id <span class="operator">=</span> e1.department_id</span><br><span class="line">      <span class="keyword">order</span> <span class="keyword">by</span></span><br><span class="line">      e1.salary <span class="keyword">desc</span></span><br><span class="line">      limit</span><br><span class="line">      <span class="number">1</span>, <span class="number">1</span></span><br><span class="line">   ), <span class="number">0</span></span><br><span class="line">)</span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span></span><br><span class="line">department</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li>编写一个sql语句，找出每个部门获得前三高工资的所有员工，结果返回部门名称department，员工姓名name和工资salary，以department升序，salary降序排列。</li>
<li>这题还是直接找比某个薪水大的个数比较好，row_number是不连续的肯定不行，rank又不能用&lt;&#x3D;3来挑选<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span></span><br><span class="line"> d.department_name,</span><br><span class="line"> e.name,</span><br><span class="line"> e.salary</span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">   employees e</span><br><span class="line"><span class="keyword">JOIN</span></span><br><span class="line">   departments d <span class="keyword">ON</span> e.department_id <span class="operator">=</span> d.department_id</span><br><span class="line"><span class="keyword">WHERE</span></span><br><span class="line">   (<span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>) </span><br><span class="line">   <span class="keyword">FROM</span> employees e2 </span><br><span class="line">   <span class="keyword">WHERE</span> e2.department_id <span class="operator">=</span> e.department_id </span><br><span class="line">      <span class="keyword">AND</span> e2.salary <span class="operator">&gt;</span> e.salary) <span class="operator">&lt;</span> <span class="number">3</span></span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span></span><br><span class="line">   d.department_name <span class="keyword">ASC</span>,</span><br><span class="line">   e.salary <span class="keyword">DESC</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="找出当前月份的第一个和最后一个星期三"><a href="#找出当前月份的第一个和最后一个星期三" class="headerlink" title="找出当前月份的第一个和最后一个星期三"></a>找出当前月份的第一个和最后一个星期三</h3><p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/6660392a477b">https://www.jianshu.com/p/6660392a477b</a></p>
<p>+ </p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">MAKEDATE(<span class="keyword">YEAR</span>(CURDATE()), <span class="number">1</span>) <span class="operator">+</span> <span class="type">INTERVAL</span> QUARTER(CURDATE()) QUARTER <span class="operator">-</span> <span class="type">INTERVAL</span> <span class="number">1</span> QUARTER <span class="comment">--计算当前季度的起始日期。</span></span><br><span class="line">MAKEDATE(<span class="keyword">YEAR</span>(CURDATE()), <span class="number">1</span>) <span class="operator">+</span> <span class="type">INTERVAL</span> QUARTER(CURDATE()) QUARTER <span class="operator">-</span> <span class="type">INTERVAL</span> <span class="number">1</span> QUARTER <span class="operator">+</span> <span class="type">INTERVAL</span> <span class="number">3</span> <span class="keyword">MONTH</span> <span class="operator">-</span> <span class="type">INTERVAL</span> <span class="number">1</span> <span class="keyword">DAY</span> <span class="comment">--计算当前季度的结束日期。</span></span><br></pre></td></tr></table></figure>
<p>  为什么要减可以这样理解，一开始放到1月1号就是有一个quarter了</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/05/21/SQL/" data-id="clwlwacy10004qkvcfhzhaq8q" data-title="SQL" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-Makefile语法" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/05/20/Makefile%E8%AF%AD%E6%B3%95/" class="article-date">
  <time class="dt-published" datetime="2024-05-20T02:56:40.000Z" itemprop="datePublished">2024-05-20</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Makefile/">Makefile</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/05/20/Makefile%E8%AF%AD%E6%B3%95/">Makefile语法</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h4 id="obj-m"><a href="#obj-m" class="headerlink" title="obj-m :&#x3D;"></a>obj-m :&#x3D;</h4><ul>
<li>obj-m 是一个内核模块编译的特殊变量。这个变量用于告诉内核构建系统要编译成模块的目标文件列表。obj-m 是 “object modules” 的缩写，它表示模块对象文件。</li>
<li>:&#x3D; 是Makefile中的赋值操作符，表示立即展开赋值。它与 &#x3D; 的区别在于，:&#x3D; 在赋值时会立即计算右边表达式的值，而 &#x3D; 是延迟计算，直到这个变量被使用时才计算右边表达式的值。</li>
<li>使用例子：定义一个包含内核模块目标文件的列表变量 obj-m，其中的目标文件是 hello.o。<br>内核构建系统会根据这个定义去查找 hello.c 源文件，进行编译，最终生成 hello.ko 模块文件。<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">obj-m := hello.o</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="编译目标"><a href="#编译目标" class="headerlink" title="编译目标"></a>编译目标</h4><h5 id="all"><a href="#all" class="headerlink" title="all"></a>all</h5><ul>
<li>这是一个Makefile的目标，表示默认目标，即在执行 make 命令时默认执行的任务。</li>
</ul>
<h5 id="自定义目标"><a href="#自定义目标" class="headerlink" title="自定义目标"></a>自定义目标</h5><ul>
<li>如以下这个命令，代表在clean目标的具体命令<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"> clean:</span><br><span class="line">make -C /lib/modules/<span class="variable">$(<span class="built_in">shell</span> uname -r)</span>/build M=<span class="variable">$(<span class="built_in">shell</span> pwd)</span> clean</span><br></pre></td></tr></table></figure></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/05/20/Makefile%E8%AF%AD%E6%B3%95/" data-id="clwlwacy30007qkvc4gzeby1e" data-title="Makefile语法" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-常见的布局方法" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/05/19/%E5%B8%B8%E8%A7%81%E7%9A%84%E5%B8%83%E5%B1%80%E6%96%B9%E6%B3%95/" class="article-date">
  <time class="dt-published" datetime="2024-05-19T05:47:52.000Z" itemprop="datePublished">2024-05-19</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%89%8D%E7%AB%AF/">前端</a>►<a class="article-category-link" href="/categories/%E5%89%8D%E7%AB%AF/HTML/">HTML</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/05/19/%E5%B8%B8%E8%A7%81%E7%9A%84%E5%B8%83%E5%B1%80%E6%96%B9%E6%B3%95/">常见的布局方法</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h4 id="水平-竖直居中"><a href="#水平-竖直居中" class="headerlink" title="水平&#x2F;竖直居中"></a>水平&#x2F;竖直居中</h4><ul>
<li>一个常见的需求是把一个让一个div在另一个div之中居中<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;height: 25%;background-color: white;margin: 10px;</span></span></span><br><span class="line"><span class="string"><span class="tag">    display: flex;justify-content: center; align-items: center;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">style</span>=<span class="string">&quot;background-color: orangered&quot;</span>&gt;</span>给我推荐几只股票<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
效果如下<br><img src="/2024/05/19/%E5%B8%B8%E8%A7%81%E7%9A%84%E5%B8%83%E5%B1%80%E6%96%B9%E6%B3%95/image.png"></li>
</ul>
<h4 id="flex弹性盒子布局"><a href="#flex弹性盒子布局" class="headerlink" title="flex弹性盒子布局"></a>flex弹性盒子布局</h4><ul>
<li>display:flex 是一种布局方式。它即可以应用于容器中，也可以应用于行内元素。容器默认存在两根轴：水平的主轴（main axis）和垂直的交叉轴（cross axis）。采用Flex布局的元素，称为Flex容器（flex container）简称”容器”。它的所有子元素自动成为容器成员，称为Flex项目（flex item）。</li>
<li><strong>设为Flex布局以后，子元素的float、clear和vertical-align属性将失效。</strong></li>
<li>容器属性值：<ol>
<li>flex-direction 决定主轴的方向（即项目的排列方向）<br>  取值与效果：<img src="/2024/05/19/%E5%B8%B8%E8%A7%81%E7%9A%84%E5%B8%83%E5%B1%80%E6%96%B9%E6%B3%95/image1.png"></li>
</ol>
<ul>
<li>column-reverse：主轴为垂直方向，起点在下沿。</li>
<li>column：主轴为垂直方向，起点在上沿。</li>
<li>row（默认值）：主轴为水平方向，起点在左端。</li>
<li>row-reverse：主轴为水平方向，起点在右端。</li>
</ul>
<ol start="2">
<li>flex-wrap 定义项目是否换行以及如何换行<br>  取值与效果：</li>
</ol>
<ul>
<li>nowrap（默认）：不换行 <img src="/2024/05/19/%E5%B8%B8%E8%A7%81%E7%9A%84%E5%B8%83%E5%B1%80%E6%96%B9%E6%B3%95/image2.png"> </li>
<li>wrap：换行，第一行在上方 <img src="/2024/05/19/%E5%B8%B8%E8%A7%81%E7%9A%84%E5%B8%83%E5%B1%80%E6%96%B9%E6%B3%95/image3.png"></li>
</ul>
<ol start="3">
<li>justify-content 定义项目在主轴上的对齐方式<br>  取值与效果：</li>
</ol>
<ul>
<li>flex-start（默认值）：左对齐 <img src="/2024/05/19/%E5%B8%B8%E8%A7%81%E7%9A%84%E5%B8%83%E5%B1%80%E6%96%B9%E6%B3%95/image4.png"> </li>
<li>flex-end：右对齐 <img src="/2024/05/19/%E5%B8%B8%E8%A7%81%E7%9A%84%E5%B8%83%E5%B1%80%E6%96%B9%E6%B3%95/image5.png"> </li>
<li>center：居中 <img src="/2024/05/19/%E5%B8%B8%E8%A7%81%E7%9A%84%E5%B8%83%E5%B1%80%E6%96%B9%E6%B3%95/image6.png"> </li>
<li>space-between：两端对齐，项目之间的间隔都相等。 <img src="/2024/05/19/%E5%B8%B8%E8%A7%81%E7%9A%84%E5%B8%83%E5%B1%80%E6%96%B9%E6%B3%95/image7.png"> </li>
<li>space-around：每个项目两侧的间隔相等。所以，项目之间的间隔比项目与边框的间隔大一倍 <img src="/2024/05/19/%E5%B8%B8%E8%A7%81%E7%9A%84%E5%B8%83%E5%B1%80%E6%96%B9%E6%B3%95/image8.png"></li>
</ul>
<ol start="4">
<li>align-items 定义项目在竖直方向上对齐方式<br>  取值与效果：</li>
</ol>
<ul>
<li>flex-start：交叉轴的起点对齐。<img src="/2024/05/19/%E5%B8%B8%E8%A7%81%E7%9A%84%E5%B8%83%E5%B1%80%E6%96%B9%E6%B3%95/image9.png"> </li>
<li>flex-end：交叉轴的终点对齐。 <img src="/2024/05/19/%E5%B8%B8%E8%A7%81%E7%9A%84%E5%B8%83%E5%B1%80%E6%96%B9%E6%B3%95/image10.png"> </li>
<li>center：交叉轴的中点对齐。<img src="/2024/05/19/%E5%B8%B8%E8%A7%81%E7%9A%84%E5%B8%83%E5%B1%80%E6%96%B9%E6%B3%95/image11.png"> </li>
<li>baseline: 项目的第一行文字的基线对齐。 <img src="/2024/05/19/%E5%B8%B8%E8%A7%81%E7%9A%84%E5%B8%83%E5%B1%80%E6%96%B9%E6%B3%95/image12.png"> </li>
<li>stretch（默认值）：如果项目未设置高度或设为auto，将占满整个容器的高度  <img src="/2024/05/19/%E5%B8%B8%E8%A7%81%E7%9A%84%E5%B8%83%E5%B1%80%E6%96%B9%E6%B3%95/image13.png"></li>
</ul>
</li>
<li>项目属性值：<ol>
<li>order 定义项目的排列顺序。数值越小，排列越靠前，默认为0<br>  <img src="/2024/05/19/%E5%B8%B8%E8%A7%81%E7%9A%84%E5%B8%83%E5%B1%80%E6%96%B9%E6%B3%95/image14.png"> </li>
<li>flex-grow 定义项目的放大比例，默认为0，即如果存在剩余空间，也不放大。如果所有项目的flex-grow属性都为1，则它们将等分剩余空间（如果有的话）。如果一个项目的flex-grow属性为2，其他项目都为1，则前者占据的剩余空间将比其他项多一倍。<br>  <img src="/2024/05/19/%E5%B8%B8%E8%A7%81%E7%9A%84%E5%B8%83%E5%B1%80%E6%96%B9%E6%B3%95/image15.png"> </li>
<li>align-self 允许单个项目有与其他项目不一样的对齐方式，可覆盖align-items属性。默认值为auto，表示继承父元素的align-items属性，如果没有父元素，则等同于stretch。</li>
<li>flex-shrink 定义项目的缩小比例，默认为1，即如果空间不足，该项目将缩小。如果所有项目的flex-shrink属性都为1，当空间不足时，都将等比例缩小。如果一个项目的flex-shrink属性为0，其他项目都为1，则空间不足时，前者不缩小。负值对该属性无效。</li>
</ol>
</li>
</ul>
<h4 id="position定位"><a href="#position定位" class="headerlink" title="position定位"></a>position定位</h4><p>position有四个值，static，relative，absolute，fixed</p>
<h5 id="static默认值"><a href="#static默认值" class="headerlink" title="static默认值"></a>static默认值</h5><h5 id="relative"><a href="#relative" class="headerlink" title="relative"></a>relative</h5><p>+ </p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/05/19/%E5%B8%B8%E8%A7%81%E7%9A%84%E5%B8%83%E5%B1%80%E6%96%B9%E6%B3%95/" data-id="clwlwacyc000tqkvc7jurdgdc" data-title="常见的布局方法" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-CSS动画" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/05/19/CSS%E5%8A%A8%E7%94%BB/" class="article-date">
  <time class="dt-published" datetime="2024-05-19T05:47:18.000Z" itemprop="datePublished">2024-05-19</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%89%8D%E7%AB%AF/">前端</a>►<a class="article-category-link" href="/categories/%E5%89%8D%E7%AB%AF/CSS/">CSS</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/05/19/CSS%E5%8A%A8%E7%94%BB/">CSS动画</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="动画"><a href="#动画" class="headerlink" title="动画"></a>动画</h3><h4 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h4><ul>
<li>如果元素通过visibility设置可不可见，动画会失效，这种情况下可以用display&#x3D;’none’</li>
</ul>
<h4 id="animation属性"><a href="#animation属性" class="headerlink" title="animation属性"></a>animation属性</h4><ul>
<li>animation-name：指定要绑定到选择器的关键帧的名称。</li>
<li>animation-duration：定义动画完成一个周期需要多少秒或毫秒</li>
<li>ananimation-timing-function：指定动画将如何完成一个周期。<img src="/2024/05/19/CSS%E5%8A%A8%E7%94%BB/image.png"></li>
<li>animation-delay：属性定义动画什么时候开始。注意如果是负值，就是跳过前x秒直接执行后面的动画</li>
<li>animation-iteration-count ：定义动画应该播放多少次。</li>
<li>animation-direction：定义是否循环交替反向播放动画。<img src="/2024/05/19/CSS%E5%8A%A8%E7%94%BB/image2.png"></li>
</ul>
<h4 id="key"><a href="#key" class="headerlink" title="key"></a>key</h4><ul>
<li>用百分比来规定变化发生的时间，或用关键词 “from” 和 “to”，等同于 0% 和 100%。0% 是动画的开始，100% 是动画的完成。在每个百分比后面用css声明对应的样式<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@keyframes</span> myfirst&#123;</span><br><span class="line">    <span class="number">0%</span>   &#123;<span class="attribute">background</span>: red;&#125;</span><br><span class="line">    <span class="number">25%</span>  &#123;<span class="attribute">background</span>: yellow;&#125;</span><br><span class="line">    <span class="number">50%</span>  &#123;<span class="attribute">background</span>: blue;&#125;</span><br><span class="line">    <span class="number">100%</span> &#123;<span class="attribute">background</span>: green;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h4><h5 id="场景：缓慢出现"><a href="#场景：缓慢出现" class="headerlink" title="场景：缓慢出现"></a>场景：缓慢出现</h5>  <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.defaultChoices</span>&#123;</span><br><span class="line"><span class="attribute">animation-name</span>: defaultChoices;</span><br><span class="line"><span class="attribute">animation-duration</span>: <span class="number">1s</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@keyframes</span> defaultChoices&#123;</span><br><span class="line"><span class="number">0%</span>&#123;<span class="attribute">opacity</span>: <span class="number">0</span>;&#125;</span><br><span class="line"><span class="number">100%</span>&#123;<span class="attribute">opacity</span>: <span class="number">1</span>;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;showDefaultChoice&quot;</span> <span class="attr">class</span>=<span class="string">&quot;defaultChoices&quot;</span> <span class="attr">style</span>=<span class="string">&quot;position: absolute;bottom: 70px;width: 100%;height:200px;background-color: #EDF2F7;display: none;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/05/19/CSS%E5%8A%A8%E7%94%BB/" data-id="clwlwacxt0000qkvcf4sw0l04" data-title="CSS动画" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-TypeScript的一些常用语法" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/05/18/TypeScript%E7%9A%84%E4%B8%80%E4%BA%9B%E5%B8%B8%E7%94%A8%E8%AF%AD%E6%B3%95/" class="article-date">
  <time class="dt-published" datetime="2024-05-18T12:40:55.000Z" itemprop="datePublished">2024-05-18</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%89%8D%E7%AB%AF/">前端</a>►<a class="article-category-link" href="/categories/%E5%89%8D%E7%AB%AF/TypeScript/">TypeScript</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/05/18/TypeScript%E7%9A%84%E4%B8%80%E4%BA%9B%E5%B8%B8%E7%94%A8%E8%AF%AD%E6%B3%95/">TypeScript的一些常用语法</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h4 id="遍历Map"><a href="#遍历Map" class="headerlink" title="遍历Map"></a>遍历Map</h4><ul>
<li>最简单的遍历方式，需要注意的是参数格式value在前key在后<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">map.<span class="title function_">forEach</span>(<span class="function">(<span class="params">value , key</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li>
<li>用keys()遍历<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">for</span>(<span class="keyword">let</span> key <span class="keyword">of</span> <span class="title class_">Object</span>.<span class="title function_">keys</span>(res.<span class="property">data</span>))&#123;</span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(key,res.<span class="property">data</span>[key]);</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="title class_">Object</span>.<span class="title function_">keys</span>(obj).<span class="title function_">forEach</span>( <span class="function"><span class="params">key</span> =&gt;</span>&#123;</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(key,obj[key])</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="定时任务"><a href="#定时任务" class="headerlink" title="定时任务"></a>定时任务</h4><ul>
<li>我们希望设置一个定时任务，每x ms获取一个数据<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> data = ref&lt;<span class="built_in">any</span>&gt;(<span class="literal">null</span>);</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">updateData</span> = <span class="keyword">async</span> (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> newData = <span class="keyword">await</span> <span class="title function_">fetchData</span>();</span><br><span class="line">  <span class="keyword">if</span> (newData) &#123;</span><br><span class="line">    data.<span class="property">value</span> = newData;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">interval</span>: <span class="built_in">number</span>;</span><br><span class="line"></span><br><span class="line"><span class="title function_">onMounted</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="title function_">updateData</span>();</span><br><span class="line">  interval = <span class="built_in">setInterval</span>(updateData, <span class="number">5000</span>); <span class="comment">// 每5秒获取一次数据</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="title function_">onUnmounted</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">clearInterval</span>(interval);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="interface"><a href="#interface" class="headerlink" title="interface"></a>interface</h4><ul>
<li><p>定义对象类型</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">age</span>: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>可选属性</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">age</span>: <span class="built_in">number</span>;</span><br><span class="line">  address?: <span class="built_in">string</span>; <span class="comment">// address 是可选属性</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>接口继承</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Named</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Person</span> <span class="keyword">extends</span> <span class="title class_">Named</span> &#123;</span><br><span class="line">  <span class="attr">age</span>: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">person</span>: <span class="title class_">Person</span> = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;John Doe&#x27;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">30</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="script-setup-标签"><a href="#script-setup-标签" class="headerlink" title="script setup 标签"></a>script setup 标签</h4><ul>
<li>能够使用纯 Typescript 声明 props 和抛出事件。</li>
<li>更好的运行时性能 (其模板会被编译成与其同一作用域的渲染函数，没有任何的中间代理)。</li>
<li>更好的 IDE 类型推断性能 (减少语言服务器从代码中抽离类型的工作)</li>
</ul>
<h5 id="组件数据传递-props-语法改变"><a href="#组件数据传递-props-语法改变" class="headerlink" title="组件数据传递 props 语法改变"></a>组件数据传递 props 语法改变</h5><ul>
<li>子组件<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义 ChartOption 和 ChartData 类型</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">ChartOption</span> &#123;</span><br><span class="line">  [<span class="attr">key</span>: <span class="built_in">string</span>]: <span class="built_in">unknown</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">ChartData</span> &#123;</span><br><span class="line">  <span class="attr">stockId</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="attr">domId</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">option</span>: <span class="title class_">ChartOption</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用 defineProps 并传入定义好的类型</span></span><br><span class="line"><span class="keyword">const</span> props = defineProps&lt;&#123; <span class="attr">data</span>: <span class="title class_">ChartData</span> &#125;&gt;();</span><br></pre></td></tr></table></figure></li>
<li>父组件使用<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">k-line-table</span> <span class="attr">:data</span>=<span class="string">&quot;chartData&quot;</span> <span class="attr">style</span>=<span class="string">&quot;height: 1000px;width: 1000px;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">k-line-table</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h5 id="组件数据传递-emits-语法改变"><a href="#组件数据传递-emits-语法改变" class="headerlink" title="组件数据传递 emits 语法改变"></a>组件数据传递 emits 语法改变</h5><ul>
<li><p>子组件</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span> @<span class="attr">click</span>=<span class="string">&quot;sendString&quot;</span>&gt;</span>我是子组件 点我给父组件传&quot;hello&quot;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> emits = <span class="title function_">defineEmits</span>([<span class="string">&#x27;sendEmit&#x27;</span>]);</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> sendString = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="title function_">emits</span>(<span class="string">&#x27;sendEmit&#x27;</span>, <span class="string">&#x27;hello&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>父组件</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span> <span class="attr">style</span>=<span class="string">&quot;margin: 0 auto;text-align: center;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>我是父组件<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">son</span> @<span class="attr">sendEmit</span>=<span class="string">&quot;sendEmit&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">son</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> son <span class="keyword">from</span> <span class="string">&#x27;./son.vue&#x27;</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> sendEmit = <span class="keyword">function</span> (<span class="params">s</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="variable language_">console</span>.<span class="title function_">log</span>(s);</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h5 id="属性使用方法"><a href="#属性使用方法" class="headerlink" title="属性使用方法"></a>属性使用方法</h5>  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span> <span class="attr">style</span>=<span class="string">&quot;margin: 0 auto;text-align: center;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123;data&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> data = <span class="string">&#x27;语法糖真香&#x27;</span></span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h5 id="组件不需要components注册"><a href="#组件不需要components注册" class="headerlink" title="组件不需要components注册"></a>组件不需要components注册</h5><p>直接import即可</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/05/18/TypeScript%E7%9A%84%E4%B8%80%E4%BA%9B%E5%B8%B8%E7%94%A8%E8%AF%AD%E6%B3%95/" data-id="clwlwacy20005qkvc865i4n2l" data-title="TypeScript的一些常用语法" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-redis基础" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/05/18/redis%E5%9F%BA%E7%A1%80/" class="article-date">
  <time class="dt-published" datetime="2024-05-18T05:25:21.000Z" itemprop="datePublished">2024-05-18</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/REDIS/">REDIS</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/05/18/redis%E5%9F%BA%E7%A1%80/">redis基础</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h4 id="什么是redis？"><a href="#什么是redis？" class="headerlink" title="什么是redis？"></a>什么是redis？</h4><ul>
<li>redis是一个key-value结构的Nosql数据库，value可以是各种redis的数据类型，比如字符串，集合</li>
<li>Nosql vs Sql<ul>
<li>Sql是结构化的（表结构），关联的（外键），用sql查询 ，满足ACID（原子性，一致性，隔离性，持久性）</li>
<li>Nosql是非结构化的（kv，图，文档数据库），无关联的，用非sql查询（不同的非关系数据库是不同的查询方法，例如mogodb是类似类的方法，el类似restful请求），BASE（不能完全满足ACID）</li>
<li>Sql只能垂直拓展，分库分表比较难，但是Nosql天然支持水平拓展</li>
</ul>
</li>
<li>在非关系的，没有数据表的情况下，redis怎么区分不同的业务数据，如果id重复怎么办？<br>redis key可以允许多个单词形成层次结构（用：间隔表示），多个单词之间用:隔开，比如 <strong>项目名:业务名:类型:id</strong><br>value如果是一个对象，那么可以序列化成json字符串去存储</li>
</ul>
<h4 id="相关命令"><a href="#相关命令" class="headerlink" title="相关命令"></a>相关命令</h4><h5 id="客户端命令行"><a href="#客户端命令行" class="headerlink" title="客户端命令行"></a>客户端命令行</h5><ul>
<li>redis-cli [options] [commands] <ul>
<li>常见options <ul>
<li>-h 127.0.0.1 指定要连接的redis节点的ip地址</li>
<li>-p 6379 指定要连接的节点的端口</li>
<li>-a 123456 指定redis访问密码</li>
</ul>
</li>
<li>没有command会进入交互式命令行</li>
<li>常见commands<ul>
<li>AUTH [USER] [PASSWORD]</li>
</ul>
</li>
</ul>
</li>
</ul>
<h5 id="通用命令"><a href="#通用命令" class="headerlink" title="通用命令"></a>通用命令</h5><ul>
<li>SET KEY VALUE<br>设置k-v键值对</li>
<li>GET KEY<br>获取键值</li>
<li>MSET KEY VALUE [KEY VALUE ..]<br>一次性设置多个键值对</li>
<li>KEYS *<ul>
<li>是来匹配的，比如na*，就可以匹配出name，nasa等等符合条件的key</li>
</ul>
</li>
<li>DEL KEY [KEY1 ..]<br>删除键值对，如果有没有的键值对，那么不会删除</li>
<li>EXIST KEY [KEY1 ..]<br>判断key是不是存在，需要注意的是，如果有重复key那么也会被重复计算</li>
<li>EXPIRE KEY SECOND<br>给一个KEY设置有效期，设置的时间过期后，key 会被自动删除。带有超时时间的 key 通常被称为易失的(volatile)。已经设置过期的key，可以调用 EXPIRE 重新设置。在这种情况下 key 的生存时间被更新为新值。</li>
<li>TTL KEY<br>查看一个Key的剩余有效时间<br>结果显示-1代表永久有效，-2就是被删除了</li>
</ul>
<h5 id="STRING相关命令"><a href="#STRING相关命令" class="headerlink" title="STRING相关命令"></a>STRING相关命令</h5><ul>
<li>INCR &#x2F; INCRBY &#x2F; INCRBYFLOAT KEY STEP<br>自增键值，前者自增1，后两者者step</li>
<li>SETNX KEY VALUE<br>真正的新增kv命令，只有不存在才会写入键值对</li>
<li>SETNX KEY SECONDS VALUE<br>带过期时间的新增</li>
</ul>
<h5 id="HASH相关命令"><a href="#HASH相关命令" class="headerlink" title="HASH相关命令"></a>HASH相关命令</h5><ul>
<li>HGET，HSET，HMSET，HMSET。注意set的时候不仅要指定key，还要指feild</li>
<li>HGETALL KEY<br>依次返回所有键值对</li>
<li>HKEYS KEY<br>hash value中的所有key</li>
<li>HVALS KEY<br>hash value中的所有value</li>
<li>HICNBY KEY field num<br>增加value</li>
<li>HSETNX KEY field value<br>如果对应field不存在则写入</li>
</ul>
<h5 id="LIST相关命令"><a href="#LIST相关命令" class="headerlink" title="LIST相关命令"></a>LIST相关命令</h5><ul>
<li>LPUSH、LPOP、RPUSH、RPOP</li>
<li>LRANGE key start end<br>下标内的元素</li>
<li>BLPOP，BRPOP 可以阻塞，pop不了不会马上返回，需要指定阻塞时间(s)</li>
</ul>
<h5 id="SET相关命令"><a href="#SET相关命令" class="headerlink" title="SET相关命令"></a>SET相关命令</h5><ul>
<li>SADD key number..<br>加入元素</li>
<li>SREM key number..<br>删除元素</li>
<li>SCARD key<br>元素个数</li>
<li>SISMEMBER key member<br>判断是不是在集合内</li>
<li>SMEMBERS key<br>获取所有元素</li>
<li>SINTER，SDIFF，SUNION<br>交集差集并集</li>
</ul>
<h4 id="SORTSET相关命令"><a href="#SORTSET相关命令" class="headerlink" title="SORTSET相关命令"></a>SORTSET相关命令</h4><p><img src="/2024/05/18/redis%E5%9F%BA%E7%A1%80/image3.png"></p>
<h4 id="REDIS数据结构"><a href="#REDIS数据结构" class="headerlink" title="REDIS数据结构"></a>REDIS数据结构</h4><ul>
<li><strong>REDIS是一个键值型数据库，key一般是String类型，value的类型多种多样</strong><br><img src="/2024/05/18/redis%E5%9F%BA%E7%A1%80/image.png"><br>后三者实际上是String类型的一些拓展类型</li>
</ul>
<h5 id="String类型"><a href="#String类型" class="headerlink" title="String类型"></a>String类型</h5><ul>
<li>键值对的value是字符串，根据格式可以继续分为三类，最大都是512M<ol>
<li>string：普通字符串</li>
<li>int：整数类型，可以自增自减</li>
<li>float：浮点数类型，可以自增自减</li>
</ol>
</li>
<li>应用：缓存 Session、Token、图片地址、序列化后的对象(相比较于 Hash 存储更节省内存)，举例：用户单位时间的请求数（简单限流可以用到）、页面单位时间的访问数。</li>
</ul>
<h5 id="Hash类型"><a href="#Hash类型" class="headerlink" title="Hash类型"></a>Hash类型</h5><ul>
<li>value中的每个字段可以独立存储<br><img src="/2024/05/18/redis%E5%9F%BA%E7%A1%80/image2.png"></li>
<li>应用：对象数据存储场景：举例：用户信息、商品信息、文章信息、购物车信息。</li>
</ul>
<h5 id="LIST类型"><a href="#LIST类型" class="headerlink" title="LIST类型"></a>LIST类型</h5><ul>
<li>类似双向链表结构，可以正向反向检索</li>
<li>有序，元素可以重复，插入删除快，查询一般</li>
<li>应用：信息流展示（评论），消息队列</li>
</ul>
<h5 id="SET"><a href="#SET" class="headerlink" title="SET"></a>SET</h5><ul>
<li>无序，元素不可以重复，查询快，可以交并差</li>
<li>应用：需要存放的数据不能重复的场景：文章点赞、动态点赞等场景。需要获取多个数据源交集、并集和差集的场景举例：共同好友(交集)、共同粉丝(交集)、共同关注(交集)、好友推荐（差集）、音乐推荐（差集）、订阅号推荐差集+交集） 等场景。</li>
</ul>
<h5 id="SORTSET"><a href="#SORTSET" class="headerlink" title="SORTSET"></a>SORTSET</h5><ul>
<li>可以排序的SET，每个元素带一个score，底层是zset+hash实现</li>
<li>应用：排行榜，优先队列</li>
</ul>
<h4 id="REDIS-客户端"><a href="#REDIS-客户端" class="headerlink" title="REDIS 客户端"></a>REDIS 客户端</h4><ul>
<li>Jedis：方法名和redis一样</li>
<li>lettuce：以netty为基础</li>
</ul>
<h5 id="JEDIS"><a href="#JEDIS" class="headerlink" title="JEDIS"></a>JEDIS</h5><h6 id="连接虚拟机redis错误"><a href="#连接虚拟机redis错误" class="headerlink" title="连接虚拟机redis错误"></a>连接虚拟机redis错误</h6><ul>
<li>time out<ol>
<li>检查redis.conf，注释掉bind（让其他地址可以访问），关闭安全守护模式，将 protected-mode 设置为 no</li>
<li>关闭防火墙&#x2F;开放端口：firewall-cmd –query-port&#x3D;xxxx&#x2F;tcp  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">systemctl  status firewalld.service 查看防火墙的状态；</span><br><span class="line">systemctl  start firewalld.service 启动防火墙；</span><br><span class="line">systemctl  stop firewalld.service 关闭防火墙；</span><br><span class="line">systemctl  restart firewalld.service 重启防火墙；</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/05/18/redis%E5%9F%BA%E7%A1%80/" data-id="clwlwacye000vqkvc0erdav27" data-title="redis基础" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-分治的讨论" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/05/18/%E5%88%86%E6%B2%BB%E7%9A%84%E8%AE%A8%E8%AE%BA/" class="article-date">
  <time class="dt-published" datetime="2024-05-18T03:28:18.000Z" itemprop="datePublished">2024-05-18</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E7%AE%97%E6%B3%95/">算法</a>►<a class="article-category-link" href="/categories/%E7%AE%97%E6%B3%95/%E5%88%86%E6%B2%BB/">分治</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/05/18/%E5%88%86%E6%B2%BB%E7%9A%84%E8%AE%A8%E8%AE%BA/">分治的讨论</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>zbsd</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/05/18/%E5%88%86%E6%B2%BB%E7%9A%84%E8%AE%A8%E8%AE%BA/" data-id="clwlwacyf000xqkvc6pou5t3k" data-title="分治的讨论" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-简单01背包问题的一个通用思路" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/05/18/%E7%AE%80%E5%8D%9501%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98%E7%9A%84%E4%B8%80%E4%B8%AA%E9%80%9A%E7%94%A8%E6%80%9D%E8%B7%AF/" class="article-date">
  <time class="dt-published" datetime="2024-05-18T03:22:19.000Z" itemprop="datePublished">2024-05-18</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E7%AE%97%E6%B3%95/">算法</a>►<a class="article-category-link" href="/categories/%E7%AE%97%E6%B3%95/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/">动态规划</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/05/18/%E7%AE%80%E5%8D%9501%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98%E7%9A%84%E4%B8%80%E4%B8%AA%E9%80%9A%E7%94%A8%E6%80%9D%E8%B7%AF/">简单01背包问题的一个通用思路</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="DP设计思路"><a href="#DP设计思路" class="headerlink" title="DP设计思路"></a>DP设计思路</h3><ul>
<li>在处理01背包问题时，我们往往是遇到这样以下情景：<ol>
<li>最多装c，求方案数&#x2F;最大和 </li>
<li>恰好装c，求方案数&#x2F;最大和&#x2F;最小和 </li>
<li>至少装c，求方案数&#x2F;最小和<br>因此，c也就是背包的容量应该是dp数组的一个维度，另外物品是有限的，那么就需要再引入一个维度用于物品的遍历，以leetcode494为例：在我们把问题转化为01背包之后，dp[i][j]代表前i+1个数得出和为j的方法数<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">findTargetSumWays</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> x : nums) target += x;</span><br><span class="line">    <span class="keyword">if</span> (target &lt; <span class="number">0</span> || target % <span class="number">2</span> == <span class="number">1</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    target /= <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> nums.length;</span><br><span class="line">    <span class="type">int</span>[][] f = <span class="keyword">new</span> <span class="title class_">int</span>[n + <span class="number">1</span>][target + <span class="number">1</span>];</span><br><span class="line">    f[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; ++i)</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">c</span> <span class="operator">=</span> <span class="number">0</span>; c &lt;= target; ++c)</span><br><span class="line">            <span class="keyword">if</span> (c &lt; nums[i]) f[i + <span class="number">1</span>][c] = f[i][c];</span><br><span class="line">            <span class="keyword">else</span> f[i + <span class="number">1</span>][c] = f[i][c] + f[i][c - nums[i]];</span><br><span class="line">    <span class="keyword">return</span> f[n][target];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
类似的还有leetcode474，只不过这道题需要统计0，1的个数，因此还需要再加一维：dp[i][j][z]代表前i+1个字符串0的个数和1的个数<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">findMaxForm</span><span class="params">(String[] strs, <span class="type">int</span> m, <span class="type">int</span> n)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">length</span> <span class="operator">=</span> strs.length;</span><br><span class="line">    <span class="type">int</span>[][][] dp = <span class="keyword">new</span> <span class="title class_">int</span>[length + <span class="number">1</span>][m + <span class="number">1</span>][n + <span class="number">1</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= length; i++) &#123;</span><br><span class="line">        <span class="type">int</span>[] zerosOnes = getZerosOnes(strs[i - <span class="number">1</span>]);</span><br><span class="line">        <span class="type">int</span> <span class="variable">zeros</span> <span class="operator">=</span> zerosOnes[<span class="number">0</span>], ones = zerosOnes[<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt;= m; j++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> <span class="number">0</span>; k &lt;= n; k++) &#123;</span><br><span class="line">                dp[i][j][k] = dp[i - <span class="number">1</span>][j][k];</span><br><span class="line">                <span class="keyword">if</span> (j &gt;= zeros &amp;&amp; k &gt;= ones) &#123;</span><br><span class="line">                    dp[i][j][k] = Math.max(dp[i][j][k], dp[i - <span class="number">1</span>][j - zeros][k - ones] + <span class="number">1</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[length][m][n];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span>[] getZerosOnes(String str) &#123;</span><br><span class="line">    <span class="type">int</span>[] zerosOnes = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">2</span>];</span><br><span class="line">    <span class="type">int</span> <span class="variable">length</span> <span class="operator">=</span> str.length();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; length; i++) &#123;</span><br><span class="line">        zerosOnes[str.charAt(i) - <span class="string">&#x27;0&#x27;</span>]++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> zerosOnes;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
另外有时候要注意初始化问题，如leetcode2915，和为目标和的最长子序列长度<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">lengthOfLongestSubsequence</span><span class="params">(List&lt;Integer&gt; nums, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> nums.size();</span><br><span class="line">        <span class="type">int</span>[][] dp = <span class="keyword">new</span> <span class="title class_">int</span>[n+<span class="number">1</span>][target+<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i&lt;=n;i++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">t</span> <span class="operator">=</span> <span class="number">0</span>;t&lt;=target;t++)&#123;</span><br><span class="line">                dp[i][t] = Integer.MIN_VALUE;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        dp[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">t</span> <span class="operator">=</span> <span class="number">0</span>;t&lt;=target;t++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(t&gt;=nums.get(i))&#123;</span><br><span class="line">                    <span class="comment">//System.out.println((i+1)+&quot; &quot;+t+&quot; &quot;+dp[i][t]+&quot; &quot;+(dp[i][t-nums.get(i)]+1));</span></span><br><span class="line">                    dp[i+<span class="number">1</span>][t] =  Math.max(dp[i][t],</span><br><span class="line">                    dp[i][t-nums.get(i)]+<span class="number">1</span>);</span><br><span class="line">                    <span class="comment">//dp[i+1][t] = Math.max(dp[i+1][t],dp[i+1][])</span></span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    dp[i+<span class="number">1</span>][t] = dp[i][t];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[n][target]&lt;<span class="number">0</span>?-<span class="number">1</span>:dp[n][target];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
<li>所以总结来说，01背包的dp要考虑的两个维度就是物品和容量，一层循环遍历物品，一层遍历容量</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/05/18/%E7%AE%80%E5%8D%9501%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98%E7%9A%84%E4%B8%80%E4%B8%AA%E9%80%9A%E7%94%A8%E6%80%9D%E8%B7%AF/" data-id="clwlwacyf000yqkvc9oiohvqp" data-title="简单01背包问题的一个通用思路" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/3/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/LCR119/">LCR119</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/LeetCode101/">LeetCode101</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/LeetCode101/%E5%9B%9E%E6%BA%AF/">回溯</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/LeetCode101/%E6%B7%B1%E5%BA%A6%E4%BC%98%E5%85%88%E6%90%9C%E7%B4%A2/">深度优先搜索</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Makefile/">Makefile</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/REDIS/">REDIS</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%88%86%E5%B8%83%E5%BC%8F/">分布式</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%88%86%E5%B8%83%E5%BC%8F/MIT-6824/">MIT-6824</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%89%8D%E7%AB%AF/">前端</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%89%8D%E7%AB%AF/CSS/">CSS</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%89%8D%E7%AB%AF/HTML/">HTML</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%89%8D%E7%AB%AF/TypeScript/">TypeScript</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">操作系统</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/SQL/">SQL</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%A7%91%E7%A0%94/">科研</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%A7%91%E7%A0%94/ImageMatchingfromHandcraftedtoDeepFeatures-ASurvey/">ImageMatchingfromHandcraftedtoDeepFeatures:ASurvey</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%AE%97%E6%B3%95/">算法</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%AE%97%E6%B3%95/%E5%88%86%E6%B2%BB/">分治</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%AE%97%E6%B3%95/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/">动态规划</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%AE%97%E6%B3%95/%E5%B8%B8%E7%94%A8%E7%AE%97%E6%B3%95/">常用算法</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%AF%BE%E7%A8%8B/">课程</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%AF%BE%E7%A8%8B/%E8%BD%AF%E4%BB%B6%E8%AE%BE%E8%AE%A1/">软件设计</a></li></ul></li></ul>
    </div>
  </div>


  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/09/">September 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/07/">July 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/06/">June 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/05/">May 2024</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2024/09/17/LCR119%E7%BB%8F%E5%85%B8%E9%A2%98/">LCR119经典题</a>
          </li>
        
          <li>
            <a href="/2024/07/28/Leetcode101-%E5%9B%9E%E6%BA%AF-77/">Leetcode101-回溯-77</a>
          </li>
        
          <li>
            <a href="/2024/07/28/Leetcode101-%E5%9B%9E%E6%BA%AF-46/">Leetcode101-回溯-46</a>
          </li>
        
          <li>
            <a href="/2024/07/28/Leetcode101-%E6%B7%B1%E5%BA%A6%E4%BC%98%E5%85%88%E6%90%9C%E7%B4%A2-417/">Leetcode101-深度优先搜索-417</a>
          </li>
        
          <li>
            <a href="/2024/07/28/Leetcode101-%E6%B7%B1%E5%BA%A6%E4%BC%98%E5%85%88%E6%90%9C%E7%B4%A2-547/">Leetcode101-深度优先搜索-547</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2024 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>